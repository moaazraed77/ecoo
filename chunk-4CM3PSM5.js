var vC=Object.create;var ho=Object.defineProperty,EC=Object.defineProperties,IC=Object.getOwnPropertyDescriptor,wC=Object.getOwnPropertyDescriptors,DC=Object.getOwnPropertyNames,fo=Object.getOwnPropertySymbols,CC=Object.getPrototypeOf,Il=Object.prototype.hasOwnProperty,hg=Object.prototype.propertyIsEnumerable;var fg=(t,e,n)=>e in t?ho(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,te=(t,e)=>{for(var n in e||={})Il.call(e,n)&&fg(t,n,e[n]);if(fo)for(var n of fo(e))hg.call(e,n)&&fg(t,n,e[n]);return t},ae=(t,e)=>EC(t,wC(e));var pg=(t,e)=>{var n={};for(var r in t)Il.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&fo)for(var r of fo(t))e.indexOf(r)<0&&hg.call(t,r)&&(n[r]=t[r]);return n};var XV=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),bC=(t,e)=>{for(var n in e)ho(t,n,{get:e[n],enumerable:!0})},TC=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of DC(e))!Il.call(t,i)&&i!==n&&ho(t,i,{get:()=>e[i],enumerable:!(r=IC(e,i))||r.enumerable});return t};var eU=(t,e,n)=>(n=t!=null?vC(CC(t)):{},TC(e||!t||!t.__esModule?ho(n,"default",{value:t,enumerable:!0}):n,t));var m=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function SC(t,e){return Object.is(t,e)}var ce=null,Ni=!1,po=1,bn=Symbol("SIGNAL");function B(t){let e=ce;return ce=t,e}function AC(){return Ni}var go={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gg(t){if(Ni)throw new Error("");if(ce===null)return;ce.consumerOnSignalRead(t);let e=ce.nextProducerIndex++;if(hr(ce),e<ce.producerNode.length&&ce.producerNode[e]!==t&&Mi(ce)){let n=ce.producerNode[e];_o(n,ce.producerIndexOfThis[e])}ce.producerNode[e]!==t&&(ce.producerNode[e]=t,ce.producerIndexOfThis[e]=Mi(ce)?vg(t,ce,e):0),ce.producerLastReadVersion[e]=t.version}function NC(){po++}function MC(t){if(!(Mi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===po)){if(!t.producerMustRecompute(t)&&!mo(t)){t.dirty=!1,t.lastCleanEpoch=po;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=po}}function mg(t){if(t.liveConsumerNode===void 0)return;let e=Ni;Ni=!0;try{for(let n of t.liveConsumerNode)n.dirty||yg(n)}finally{Ni=e}}function _g(){return ce?.consumerAllowSignalWrites!==!1}function yg(t){t.dirty=!0,mg(t),t.consumerMarkedDirty?.(t)}function Dl(t){return t&&(t.nextProducerIndex=0),B(t)}function Cl(t,e){if(B(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Mi(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_o(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function mo(t){hr(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(MC(n),r!==n.version))return!0}return!1}function bl(t){if(hr(t),Mi(t))for(let e=0;e<t.producerNode.length;e++)_o(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vg(t,e,n){if(Eg(t),hr(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=vg(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function _o(t,e){if(Eg(t),hr(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)_o(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];hr(i),i.producerIndexOfThis[r]=e}}function Mi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function hr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Eg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function RC(){throw new Error}var Ig=RC;function wg(){Ig()}function Dg(t){Ig=t}var xC=null;function Cg(t){let e=Object.create(Tg);e.value=t;let n=()=>(gg(e),e.value);return n[bn]=e,n}function Tl(t,e){_g()||wg(),t.equal(t.value,e)||(t.value=e,OC(t))}function bg(t,e){_g()||wg(),Tl(t,e(t.value))}var Tg=ae(te({},go),{equal:SC,value:void 0});function OC(t){t.version++,NC(),mg(t),xC?.()}function Sg(t,e,n){let r=Object.create(PC);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function s(c){return c.fn===null&&c.schedule===null}function o(c){s(c)||(bl(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=wl)}let a=()=>{if(r.fn===null)return;if(AC())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!mo(r))return;r.hasRun=!0;let c=Dl(r);try{r.cleanupFn(),r.cleanupFn=wl,r.fn(i)}finally{Cl(r,c)}};return r.ref={notify:()=>yg(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[bn]:r},r.ref}var wl=()=>{},PC=ae(te({},go),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:wl});function D(t){return typeof t=="function"}function pr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var yo=pr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Tn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(D(r))try{r()}catch(s){e=s instanceof yo?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Ag(s)}catch(o){e=e??[],o instanceof yo?e=[...e,...o.errors]:e.push(o)}}if(e)throw new yo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ag(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Tn(n,e)}remove(e){let{_finalizers:n}=this;n&&Tn(n,e),e instanceof t&&e._removeParent(this)}};se.EMPTY=(()=>{let t=new se;return t.closed=!0,t})();var Sl=se.EMPTY;function vo(t){return t instanceof se||t&&"closed"in t&&D(t.remove)&&D(t.add)&&D(t.unsubscribe)}function Ag(t){D(t)?t():t.unsubscribe()}var nt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var gr={setTimeout(t,e,...n){let{delegate:r}=gr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=gr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Eo(t){gr.setTimeout(()=>{let{onUnhandledError:e}=nt;if(e)e(t);else throw t})}function Sn(){}var Ng=Al("C",void 0,void 0);function Mg(t){return Al("E",void 0,t)}function Rg(t){return Al("N",t,void 0)}function Al(t,e,n){return{kind:t,value:e,error:n}}var An=null;function mr(t){if(nt.useDeprecatedSynchronousErrorHandling){let e=!An;if(e&&(An={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=An;if(An=null,n)throw r}}else t()}function xg(t){nt.useDeprecatedSynchronousErrorHandling&&An&&(An.errorThrown=!0,An.error=t)}var Nn=class extends se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vo(e)&&e.add(this)):this.destination=LC}static create(e,n,r){return new _r(e,n,r)}next(e){this.isStopped?Ml(Rg(e),this):this._next(e)}error(e){this.isStopped?Ml(Mg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ml(Ng,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},kC=Function.prototype.bind;function Nl(t,e){return kC.call(t,e)}var Rl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Io(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Io(r)}else Io(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Io(n)}}},_r=class extends Nn{constructor(e,n,r){super();let i;if(D(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&nt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Nl(e.next,s),error:e.error&&Nl(e.error,s),complete:e.complete&&Nl(e.complete,s)}):i=e}this.destination=new Rl(i)}};function Io(t){nt.useDeprecatedSynchronousErrorHandling?xg(t):Eo(t)}function FC(t){throw t}function Ml(t,e){let{onStoppedNotification:n}=nt;n&&gr.setTimeout(()=>n(t,e))}var LC={closed:!0,next:Sn,error:FC,complete:Sn};var yr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pe(t){return t}function VC(...t){return xl(t)}function xl(t){return t.length===0?Pe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var O=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=jC(n)?n:new _r(n,r,i);return mr(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Og(r),new r((i,s)=>{let o=new _r({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[yr](){return this}pipe(...n){return xl(n)(this)}toPromise(n){return n=Og(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Og(t){var e;return(e=t??nt.Promise)!==null&&e!==void 0?e:Promise}function UC(t){return t&&D(t.next)&&D(t.error)&&D(t.complete)}function jC(t){return t&&t instanceof Nn||UC(t)&&vo(t)}function Ol(t){return D(t?.lift)}function R(t){return e=>{if(Ol(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(t,e,n,r,i){return new Pl(t,e,n,r,i)}var Pl=class extends Nn{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function kl(){return R((t,e)=>{let n=null;t._refCount++;let r=P(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Fl=class extends O{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ol(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new se;let n=this.getSubject();e.add(this.source.subscribe(P(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=se.EMPTY)}return e}refCount(){return kl()(this)}};var Pg=pr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rn=(()=>{class t extends O{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new wo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Pg}next(n){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Sl:(this.currentObservers=null,s.push(n),new se(()=>{this.currentObservers=null,Tn(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new O;return n.source=this,n}}return t.create=(e,n)=>new wo(e,n),t})(),wo=class extends rn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Sl}};var Ri=class extends rn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ll={now(){return(Ll.delegate||Date).now()},delegate:void 0};var Do=class extends se{constructor(e,n){super()}schedule(e,n=0){return this}};var xi={setInterval(t,e,...n){let{delegate:r}=xi;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=xi;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var vr=class extends Do{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return xi.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&xi.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Tn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Er=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Er.now=Ll.now;var Ir=class extends Er{constructor(e,n=Er.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var sn=new Ir(vr),Vl=sn;var Co=class extends vr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var bo=class extends Ir{};var Ul=new bo(Co);var Mn=new O(t=>t.complete());function To(t){return t&&D(t.schedule)}function jl(t){return t[t.length-1]}function So(t){return D(jl(t))?t.pop():void 0}function wt(t){return To(jl(t))?t.pop():void 0}function kg(t,e){return typeof jl(t)=="number"?t.pop():e}function Bl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Lg(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Fg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rn(t){return this instanceof Rn?(this.v=t,this):new Rn(t)}function Vg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,_){s.push([f,h,p,_])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(p){d(s[0][3],p)}}function c(f){f.value instanceof Rn?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ug(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Fg=="function"?Fg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var wr=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ao(t){return D(t?.then)}function No(t){return D(t[yr])}function Mo(t){return Symbol.asyncIterator&&D(t?.[Symbol.asyncIterator])}function Ro(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function BC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xo=BC();function Oo(t){return D(t?.[xo])}function Po(t){return Vg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Rn(n.read());if(i)return yield Rn(void 0);yield yield Rn(r)}}finally{n.releaseLock()}})}function ko(t){return D(t?.getReader)}function Y(t){if(t instanceof O)return t;if(t!=null){if(No(t))return $C(t);if(wr(t))return HC(t);if(Ao(t))return WC(t);if(Mo(t))return jg(t);if(Oo(t))return GC(t);if(ko(t))return zC(t)}throw Ro(t)}function $C(t){return new O(e=>{let n=t[yr]();if(D(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HC(t){return new O(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function WC(t){return new O(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Eo)})}function GC(t){return new O(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function jg(t){return new O(e=>{qC(t,e).catch(n=>e.error(n))})}function zC(t){return jg(Po(t))}function qC(t,e){var n,r,i,s;return Lg(this,void 0,void 0,function*(){try{for(n=Ug(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Se(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ut(t,e=0){return R((n,r)=>{n.subscribe(P(r,i=>Se(r,t,()=>r.next(i),e),()=>Se(r,t,()=>r.complete(),e),i=>Se(r,t,()=>r.error(i),e)))})}function on(t,e=0){return R((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Bg(t,e){return Y(t).pipe(on(e),Ut(e))}function $g(t,e){return Y(t).pipe(on(e),Ut(e))}function Hg(t,e){return new O(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Wg(t,e){return new O(n=>{let r;return Se(n,e,()=>{r=t[xo](),Se(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>D(r?.return)&&r.return()})}function Fo(t,e){if(!t)throw new Error("Iterable cannot be null");return new O(n=>{Se(n,e,()=>{let r=t[Symbol.asyncIterator]();Se(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Gg(t,e){return Fo(Po(t),e)}function zg(t,e){if(t!=null){if(No(t))return Bg(t,e);if(wr(t))return Hg(t,e);if(Ao(t))return $g(t,e);if(Mo(t))return Fo(t,e);if(Oo(t))return Wg(t,e);if(ko(t))return Gg(t,e)}throw Ro(t)}function Ae(t,e){return e?zg(t,e):Y(t)}function Oi(...t){let e=wt(t);return Ae(t,e)}function YC(t,e){let n=D(t)?t:()=>t,r=i=>i.error(n());return new O(e?i=>e.schedule(r,0,i):r)}function KC(t){return!!t&&(t instanceof O||D(t.lift)&&D(t.subscribe))}var xn=pr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function qg(t){return t instanceof Date&&!isNaN(t)}function ge(t,e){return R((n,r)=>{let i=0;n.subscribe(P(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:QC}=Array;function ZC(t,e){return QC(e)?t(...e):t(e)}function Dr(t){return ge(e=>ZC(t,e))}var{isArray:JC}=Array,{getPrototypeOf:XC,prototype:eb,keys:tb}=Object;function Lo(t){if(t.length===1){let e=t[0];if(JC(e))return{args:e,keys:null};if(nb(e)){let n=tb(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function nb(t){return t&&typeof t=="object"&&XC(t)===eb}function Vo(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function rb(...t){let e=wt(t),n=So(t),{args:r,keys:i}=Lo(t);if(r.length===0)return Ae([],e);let s=new O(ib(r,e,i?o=>Vo(i,o):Pe));return n?s.pipe(Dr(n)):s}function ib(t,e,n=Pe){return r=>{Yg(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Yg(e,()=>{let l=Ae(t[c],e),u=!1;l.subscribe(P(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Yg(t,e,n){t?Se(n,t,e):e()}function Kg(t,e,n,r,i,s,o,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=_=>l<r?p(_):c.push(_),p=_=>{s&&e.next(_),l++;let g=!1;Y(n(_,u++)).subscribe(P(e,v=>{i?.(v),s?h(v):e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<r;){let v=c.shift();o?Se(e,o,()=>p(v)):p(v)}f()}catch(v){e.error(v)}}))};return t.subscribe(P(e,h,()=>{d=!0,f()})),()=>{a?.()}}function rt(t,e,n=1/0){return D(e)?rt((r,i)=>ge((s,o)=>e(r,s,i,o))(Y(t(r,i))),n):(typeof e=="number"&&(n=e),R((r,i)=>Kg(r,i,t,n)))}function Pi(t=1/0){return rt(Pe,t)}function Qg(){return Pi(1)}function Cr(...t){return Qg()(Ae(t,wt(t)))}function sb(t){return new O(e=>{Y(t()).subscribe(e)})}function $l(...t){let e=So(t),{args:n,keys:r}=Lo(t),i=new O(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;Y(n[u]).subscribe(P(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?Vo(r,a):a),s.complete())}))}});return e?i.pipe(Dr(e)):i}var ob=["addListener","removeListener"],ab=["addEventListener","removeEventListener"],cb=["on","off"];function Hl(t,e,n,r){if(D(n)&&(r=n,n=void 0),r)return Hl(t,e,n).pipe(Dr(r));let[i,s]=db(t)?ab.map(o=>a=>t[o](e,a,n)):lb(t)?ob.map(Zg(t,e)):ub(t)?cb.map(Zg(t,e)):[];if(!i&&wr(t))return rt(o=>Hl(o,e,n))(Y(t));if(!i)throw new TypeError("Invalid event target");return new O(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function Zg(t,e){return n=>r=>t[n](e,r)}function lb(t){return D(t.addListener)&&D(t.removeListener)}function ub(t){return D(t.on)&&D(t.off)}function db(t){return D(t.addEventListener)&&D(t.removeEventListener)}function Jg(t=0,e,n=Vl){let r=-1;return e!=null&&(To(e)?n=e:r=e),new O(i=>{let s=qg(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function fb(...t){let e=wt(t),n=kg(t,1/0),r=t;return r.length?r.length===1?Y(r[0]):Pi(n)(Ae(r,e)):Mn}function jt(t,e){return R((n,r)=>{let i=0;n.subscribe(P(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Xg(t){return R((e,n)=>{let r=null,i=!1,s;r=e.subscribe(P(n,void 0,void 0,o=>{s=Y(t(o,Xg(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Uo(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(P(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function em(t,e){return R(Uo(t,e,arguments.length>=2,!1,!0))}var hb=(t,e)=>(t.push(e),t);function pb(){return R((t,e)=>{em(hb,[])(t).subscribe(e)})}function Wl(t,e){return D(e)?rt(t,e,1):rt(t,1)}function gb(t,e=sn){return R((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function c(){let l=o+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(P(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function ki(t){return R((e,n)=>{let r=!1;e.subscribe(P(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function br(t){return t<=0?()=>Mn:R((e,n)=>{let r=0;e.subscribe(P(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function tm(){return R((t,e)=>{t.subscribe(P(e,Sn))})}function Gl(t){return ge(()=>t)}function zl(t,e){return e?n=>Cr(e.pipe(br(1),tm()),n.pipe(zl(t))):rt((n,r)=>Y(t(n,r)).pipe(br(1),Gl(n)))}function mb(t,e=sn){let n=Jg(t,e);return zl(()=>n)}function jo(t=_b){return R((e,n)=>{let r=!1;e.subscribe(P(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function _b(){return new xn}function Bo(t){return R((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ql(t,e){let n=arguments.length>=2;return r=>r.pipe(t?jt((i,s)=>t(i,s,r)):Pe,br(1),n?ki(e):jo(()=>new xn))}function Yl(t){return t<=0?()=>Mn:R((e,n)=>{let r=[];e.subscribe(P(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yb(t,e){let n=arguments.length>=2;return r=>r.pipe(t?jt((i,s)=>t(i,s,r)):Pe,Yl(1),n?ki(e):jo(()=>new xn))}function vb(t,e){return R(Uo(t,e,arguments.length>=2,!0))}function Eb(t){return jt((e,n)=>t<=n)}function Ib(...t){let e=wt(t);return R((n,r)=>{(e?Cr(t,n,e):Cr(t,n)).subscribe(r)})}function Kl(t,e){return R((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(P(r,c=>{i?.unsubscribe();let l=0,u=s++;Y(t(c,u)).subscribe(i=P(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function wb(t){return R((e,n)=>{Y(t).subscribe(P(n,()=>n.complete(),Sn)),!n.closed&&e.subscribe(n)})}function Fi(t,e,n){let r=D(t)||e||n?{next:t,error:e,complete:n}:t;return r?R((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(P(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Pe}var Gm="https://g.co/ng/security#xss",C=class extends Error{constructor(e,n){super(ba(e,n)),this.code=e}};function ba(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Qi(t){return{toString:t}.toString()}var $o="__parameters__";function Db(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function zm(t,e,n){return Qi(()=>{let r=Db(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty($o)?c[$o]:Object.defineProperty(c,$o,{value:[]})[$o];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ke=globalThis;function G(t){for(let e in t)if(t[e]===G)return e;throw Error("Could not find renamed property on target object.")}function Cb(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function De(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(De).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function hu(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var bb=G({__forward_ref__:G});function zt(t){return t.__forward_ref__=zt,t.toString=function(){return De(this())},t}function Ie(t){return qm(t)?t():t}function qm(t){return typeof t=="function"&&t.hasOwnProperty(bb)&&t.__forward_ref__===zt}function A(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ta(t){return nm(t,Ym)||nm(t,Km)}function mG(t){return Ta(t)!==null}function nm(t,e){return t.hasOwnProperty(e)?t[e]:null}function Tb(t){let e=t&&(t[Ym]||t[Km]);return e||null}function rm(t){return t&&(t.hasOwnProperty(im)||t.hasOwnProperty(Sb))?t[im]:null}var Ym=G({\u0275prov:G}),im=G({\u0275inj:G}),Km=G({ngInjectableDef:G}),Sb=G({ngInjectorDef:G}),I=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qm(t){return t&&!!t.\u0275providers}var Ab=G({\u0275cmp:G}),Nb=G({\u0275dir:G}),Mb=G({\u0275pipe:G}),Rb=G({\u0275mod:G}),ra=G({\u0275fac:G}),Vi=G({__NG_ELEMENT_ID__:G}),sm=G({__NG_ENV_ID__:G});function kn(t){return typeof t=="string"?t:t==null?"":String(t)}function xb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():kn(t)}function Ob(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,t)}function Cd(t,e){throw new C(-201,!1)}var L=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(L||{}),pu;function Zm(){return pu}function Ne(t){let e=pu;return pu=t,e}function Jm(t,e,n){let r=Ta(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&L.Optional)return null;if(e!==void 0)return e;Cd(t,"Injector")}var Pb={},Ui=Pb,gu="__NG_DI_FLAG__",ia="ngTempTokenPath",kb="ngTokenPath",Fb=/\n/gm,Lb="\u0275",om="__source",Mr;function Vb(){return Mr}function an(t){let e=Mr;return Mr=t,e}function Ub(t,e=L.Default){if(Mr===void 0)throw new C(-203,!1);return Mr===null?Jm(t,void 0,e):Mr.get(t,e&L.Optional?null:void 0,e)}function S(t,e=L.Default){return(Zm()||Ub)(Ie(t),e)}function E(t,e=L.Default){return S(t,Sa(e))}function Sa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mu(t){let e=[];for(let n=0;n<t.length;n++){let r=Ie(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,s=L.Default;for(let o=0;o<r.length;o++){let a=r[o],c=jb(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function Xm(t,e){return t[gu]=e,t.prototype[gu]=e,t}function jb(t){return t[gu]}function Bb(t,e,n,r){let i=t[ia];throw e[om]&&i.unshift(e[om]),t.message=$b(`
`+t.message,i,n,r),t[kb]=i,t[ia]=null,t}function $b(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Lb?t.slice(2):t;let i=De(e);if(Array.isArray(e))i=e.map(De).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):De(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Fb,`
  `)}`}var ze=Xm(zm("Optional"),8);var e_=Xm(zm("SkipSelf"),4);function Fn(t,e){let n=t.hasOwnProperty(ra);return n?t[ra]:null}function Hb(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function Wb(t){return t.flat(Number.POSITIVE_INFINITY)}function bd(t,e){t.forEach(n=>Array.isArray(n)?bd(n,e):e(n))}function t_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Gb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Td(t,e,n){let r=Zi(t,e);return r>=0?t[r|1]=n:(r=~r,Gb(t,r,e,n)),r}function Ql(t,e){let n=Zi(t,e);if(n>=0)return t[n|1]}function Zi(t,e){return zb(t,e,1)}function zb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var xr={},we=[],Or=new I(""),n_=new I("",-1),r_=new I(""),oa=class{get(e,n=Ui){if(n===Ui){let r=new Error(`NullInjectorError: No provider for ${De(e)}!`);throw r.name="NullInjectorError",r}return n}},i_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(i_||{}),bt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bt||{}),Fe=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Fe||{});function qb(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function _u(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Yb(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function s_(t){return t===3||t===4||t===6}function Yb(t){return t.charCodeAt(0)===64}function ji(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?am(t,n,i,null,e[++r]):am(t,n,i,null,null))}}return t}function am(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var o_="ng-template";function Kb(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&qb(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Sd(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Sd(t){return t.type===4&&t.value!==o_}function Qb(t,e,n){let r=t.type===4&&!n?o_:t.value;return e===r}function Zb(t,e,n){let r=4,i=t.attrs,s=i!==null?eT(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!it(r)&&!it(c))return!1;if(o&&it(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Qb(t,c,n)||c===""&&e.length===1){if(it(r))return!1;o=!0}}else if(r&8){if(i===null||!Kb(t,i,c,n)){if(it(r))return!1;o=!0}}else{let l=e[++a],u=Jb(c,i,Sd(t),n);if(u===-1){if(it(r))return!1;o=!0;continue}if(l!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(it(r))return!1;o=!0}}}}return it(r)||o}function it(t){return(t&1)===0}function Jb(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return tT(e,t)}function Xb(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zb(t,e[r],n))return!0;return!1}function eT(t){for(let e=0;e<t.length;e++){let n=t[e];if(s_(n))return e}return t.length}function tT(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function cm(t,e){return t?":not("+e.trim()+")":e}function nT(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!it(o)&&(e+=cm(s,i),i=""),r=o,s=s||!it(r);n++}return i!==""&&(e+=cm(s,i)),e}function rT(t){return t.map(nT).join(",")}function iT(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!it(i))break;i=s}r++}return{attrs:e,classes:n}}function _G(t){return Qi(()=>{let e=d_(t),n=ae(te({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===i_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bt.Emulated,styles:t.styles||we,_:null,schemas:t.schemas||null,tView:null,id:""});f_(n);let r=t.dependencies;return n.directiveDefs=um(r,!1),n.pipeDefs=um(r,!0),n.id=cT(n),n})}function sT(t){return ln(t)||c_(t)}function oT(t){return t!==null}function Yt(t){return Qi(()=>({type:t.type,bootstrap:t.bootstrap||we,declarations:t.declarations||we,imports:t.imports||we,exports:t.exports||we,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function lm(t,e){if(t==null)return xr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Fe.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Fe.None?[r,a]:r,e[s]=o):n[s]=r}return n}function ie(t){return Qi(()=>{let e=d_(t);return f_(e),e})}function a_(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ln(t){return t[Ab]||null}function c_(t){return t[Nb]||null}function l_(t){return t[Mb]||null}function aT(t){let e=ln(t)||c_(t)||l_(t);return e!==null?e.standalone:!1}function u_(t,e){let n=t[Rb]||null;if(!n&&e===!0)throw new Error(`Type ${De(t)} does not have '\u0275mod' property.`);return n}function d_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||xr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||we,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lm(t.inputs,e),outputs:lm(t.outputs),debugInfo:null}}function f_(t){t.features?.forEach(e=>e(t))}function um(t,e){if(!t)return null;let n=e?l_:sT;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(oT)}function cT(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function At(t){return{\u0275providers:t}}function lT(...t){return{\u0275providers:h_(!0,t),\u0275fromNgModule:!0}}function h_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return bd(e,o=>{let a=o;yu(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&p_(i,s),n}function p_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ad(i,s=>{e(s,r)})}}function yu(t,e,n,r){if(t=Ie(t),!t)return!1;let i=null,s=rm(t),o=!s&&ln(t);if(!s&&!o){let c=t.ngModule;if(s=rm(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)yu(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{bd(s.imports,u=>{yu(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&p_(l,e)}if(!a){let l=Fn(i)||(()=>new i);e({provide:i,useFactory:l,deps:we},i),e({provide:r_,useValue:i,multi:!0},i),e({provide:Or,useValue:()=>S(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;Ad(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ad(t,e){for(let n of t)Qm(n)&&(n=n.\u0275providers),Array.isArray(n)?Ad(n,e):e(n)}var uT=G({provide:String,useValue:G});function g_(t){return t!==null&&typeof t=="object"&&uT in t}function dT(t){return!!(t&&t.useExisting)}function fT(t){return!!(t&&t.useFactory)}function Pr(t){return typeof t=="function"}function hT(t){return!!t.useClass}var Aa=new I(""),Qo={},pT={},Zl;function Nd(){return Zl===void 0&&(Zl=new oa),Zl}var Tt=class{},Bi=class extends Tt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Eu(e,o=>this.processProvider(o)),this.records.set(n_,Tr(void 0,this)),i.has("environment")&&this.records.set(Tt,Tr(void 0,this));let s=this.records.get(Aa);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(r_,we,L.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=B(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),B(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=an(this),r=Ne(void 0),i;try{return e()}finally{an(n),Ne(r)}}get(e,n=Ui,r=L.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sm))return e[sm](this);r=Sa(r);let i,s=an(this),o=Ne(void 0);try{if(!(r&L.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=vT(e)&&Ta(e);l&&this.injectableDefInScope(l)?c=Tr(vu(e),Qo):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&L.Self?Nd():this.parent;return n=r&L.Optional&&n===Ui?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ia]=a[ia]||[]).unshift(De(e)),s)throw a;return Bb(a,e,"R3InjectorError",this.source)}else throw a}finally{Ne(o),an(s)}}resolveInjectorInitializers(){let e=B(null),n=an(this),r=Ne(void 0),i;try{let s=this.get(Or,we,L.Self);for(let o of s)o()}finally{an(n),Ne(r),B(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(De(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=Ie(e);let n=Pr(e)?e:Ie(e&&e.provide),r=mT(e);if(!Pr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Tr(void 0,Qo,!0),i.factory=()=>mu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=B(null);try{return n.value===Qo&&(n.value=pT,n.value=n.factory()),typeof n.value=="object"&&n.value&&yT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{B(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ie(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vu(t){let e=Ta(t),n=e!==null?e.factory:Fn(t);if(n!==null)return n;if(t instanceof I)throw new C(204,!1);if(t instanceof Function)return gT(t);throw new C(204,!1)}function gT(t){if(t.length>0)throw new C(204,!1);let n=Tb(t);return n!==null?()=>n.factory(t):()=>new t}function mT(t){if(g_(t))return Tr(void 0,t.useValue);{let e=m_(t);return Tr(e,Qo)}}function m_(t,e,n){let r;if(Pr(t)){let i=Ie(t);return Fn(i)||vu(i)}else if(g_(t))r=()=>Ie(t.useValue);else if(fT(t))r=()=>t.useFactory(...mu(t.deps||[]));else if(dT(t))r=()=>S(Ie(t.useExisting));else{let i=Ie(t&&(t.useClass||t.provide));if(_T(t))r=()=>new i(...mu(t.deps));else return Fn(i)||vu(i)}return r}function Tr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _T(t){return!!t.deps}function yT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function vT(t){return typeof t=="function"||typeof t=="object"&&t instanceof I}function Eu(t,e){for(let n of t)Array.isArray(n)?Eu(n,e):n&&Qm(n)?Eu(n.\u0275providers,e):e(n)}function Md(t,e){t instanceof Bi&&t.assertNotDestroyed();let n,r=an(t),i=Ne(void 0);try{return e()}finally{an(r),Ne(i)}}function __(){return Zm()!==void 0||Vb()!=null}function y_(t){if(!__())throw new C(-203,!1)}function ET(t){return typeof t=="function"}var Re=0,x=1,b=2,le=3,ot=4,ht=5,at=6,$i=7,ct=8,kr=9,lt=10,K=11,Hi=12,dm=13,jr=14,Ge=15,Ji=16,Sr=17,$t=18,Na=19,v_=20,cn=21,Zo=22,Ln=23,he=25,Rd=1,Wi=6,Ht=7,aa=8,Fr=9,Me=10,xd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(xd||{});function Bt(t){return Array.isArray(t)&&typeof t[Rd]=="object"}function Nt(t){return Array.isArray(t)&&t[Rd]===!0}function Od(t){return(t.flags&4)!==0}function Xi(t){return t.componentOffset>-1}function Ma(t){return(t.flags&1)===1}function Wt(t){return!!t.template}function E_(t){return(t[b]&512)!==0}var Iu=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function I_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Br(){return w_}function w_(t){return t.type.prototype.ngOnChanges&&(t.setInput=wT),IT}Br.ngInherit=!0;function IT(){let t=C_(this),e=t?.current;if(e){let n=t.previous;if(n===xr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function wT(t,e,n,r,i){let s=this.declaredInputs[r],o=C_(t)||DT(t,{previous:xr,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Iu(l&&l.currentValue,n,c===xr),I_(t,e,i,n)}var D_="__ngSimpleChanges__";function C_(t){return t[D_]||null}function DT(t,e){return t[D_]=e}var fm=null;var Dt=function(t,e,n){fm?.(t,e,n)},b_="svg",CT="math",bT=!1;function TT(){return bT}function ut(t){for(;Array.isArray(t);)t=t[Re];return t}function ST(t){for(;Array.isArray(t);){if(typeof t[Rd]=="object")return t;t=t[Re]}return null}function T_(t,e){return ut(e[t])}function Le(t,e){return ut(e[t.index])}function S_(t,e){return t.data[e]}function A_(t,e){return t[e]}function hn(t,e){let n=e[t];return Bt(n)?n:n[Re]}function AT(t){return(t[b]&4)===4}function Pd(t){return(t[b]&128)===128}function NT(t){return Nt(t[le])}function Lr(t,e){return e==null?null:t[e]}function N_(t){t[Sr]=0}function MT(t){t[b]&1024||(t[b]|=1024,Pd(t)&&Gi(t))}function RT(t,e){for(;t>0;)e=e[jr],t--;return e}function kd(t){return!!(t[b]&9216||t[Ln]?.dirty)}function wu(t){t[lt].changeDetectionScheduler?.notify(1),kd(t)?Gi(t):t[b]&64&&(TT()?(t[b]|=1024,Gi(t)):t[lt].changeDetectionScheduler?.notify())}function Gi(t){t[lt].changeDetectionScheduler?.notify();let e=zi(t);for(;e!==null&&!(e[b]&8192||(e[b]|=8192,!Pd(e)));)e=zi(e)}function M_(t,e){if((t[b]&256)===256)throw new C(911,!1);t[cn]===null&&(t[cn]=[]),t[cn].push(e)}function xT(t,e){if(t[cn]===null)return;let n=t[cn].indexOf(e);n!==-1&&t[cn].splice(n,1)}function zi(t){let e=t[le];return Nt(e)?e[le]:e}var M={lFrame:V_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function OT(){return M.lFrame.elementDepthCount}function PT(){M.lFrame.elementDepthCount++}function kT(){M.lFrame.elementDepthCount--}function R_(){return M.bindingsEnabled}function es(){return M.skipHydrationRootTNode!==null}function FT(t){return M.skipHydrationRootTNode===t}function LT(t){M.skipHydrationRootTNode=t}function VT(){M.skipHydrationRootTNode=null}function F(){return M.lFrame.lView}function oe(){return M.lFrame.tView}function yG(t){return M.lFrame.contextLView=t,t[ct]}function vG(t){return M.lFrame.contextLView=null,t}function Ce(){let t=x_();for(;t!==null&&t.type===64;)t=t.parent;return t}function x_(){return M.lFrame.currentTNode}function UT(){let t=M.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Wn(t,e){let n=M.lFrame;n.currentTNode=t,n.isParent=e}function Fd(){return M.lFrame.isParent}function O_(){M.lFrame.isParent=!1}function jT(){return M.lFrame.contextLView}function $r(){let t=M.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function BT(){return M.lFrame.bindingIndex}function $T(t){return M.lFrame.bindingIndex=t}function Ra(){return M.lFrame.bindingIndex++}function Ld(t){let e=M.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function HT(){return M.lFrame.inI18n}function WT(t,e){let n=M.lFrame;n.bindingIndex=n.bindingRootIndex=t,Du(e)}function GT(){return M.lFrame.currentDirectiveIndex}function Du(t){M.lFrame.currentDirectiveIndex=t}function P_(t){let e=M.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function k_(){return M.lFrame.currentQueryIndex}function Vd(t){M.lFrame.currentQueryIndex=t}function zT(t){let e=t[x];return e.type===2?e.declTNode:e.type===1?t[ht]:null}function F_(t,e,n){if(n&L.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&L.Host);)if(i=zT(s),i===null||(s=s[jr],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=M.lFrame=L_();return r.currentTNode=e,r.lView=t,!0}function Ud(t){let e=L_(),n=t[x];M.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function L_(){let t=M.lFrame,e=t===null?null:t.child;return e===null?V_(t):e}function V_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function U_(){let t=M.lFrame;return M.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var j_=U_;function jd(){let t=U_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qT(t){return(M.lFrame.contextLView=RT(t,M.lFrame.contextLView))[ct]}function pn(){return M.lFrame.selectedIndex}function Vn(t){M.lFrame.selectedIndex=t}function xa(){let t=M.lFrame;return S_(t.tView,t.selectedIndex)}function EG(){M.lFrame.currentNamespace=b_}function IG(){YT()}function YT(){M.lFrame.currentNamespace=null}function B_(){return M.lFrame.currentNamespace}var $_=!0;function Oa(){return $_}function Mt(t){$_=t}function KT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=w_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Pa(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Jo(t,e,n){H_(t,e,3,n)}function Xo(t,e,n,r){(t[b]&3)===n&&H_(t,e,n,r)}function Jl(t,e){let n=t[b];(n&3)===e&&(n&=16383,n+=1,t[b]=n)}function H_(t,e,n,r){let i=r!==void 0?t[Sr]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Sr]+=65536),(a<s||s==-1)&&(QT(t,n,e,c),t[Sr]=(t[Sr]&4294901760)+c+2),c++}function hm(t,e){Dt(4,t,e);let n=B(null);try{e.call(t)}finally{B(n),Dt(5,t,e)}}function QT(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[b]>>14<t[Sr]>>16&&(t[b]&3)===e&&(t[b]+=16384,hm(a,s)):hm(a,s)}var Rr=-1,Un=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ZT(t){return t instanceof Un}function JT(t){return(t.flags&8)!==0}function XT(t){return(t.flags&16)!==0}function W_(t){return t!==Rr}function ca(t){return t&32767}function eS(t){return t>>16}function la(t,e){let n=eS(t),r=e;for(;n>0;)r=r[jr],n--;return r}var Cu=!0;function ua(t){let e=Cu;return Cu=t,e}var tS=256,G_=tS-1,z_=5,nS=0,Ct={};function rS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vi)&&(r=n[Vi]),r==null&&(r=n[Vi]=nS++);let i=r&G_,s=1<<i;e.data[t+(i>>z_)]|=s}function da(t,e){let n=q_(t,e);if(n!==-1)return n;let r=e[x];r.firstCreatePass&&(t.injectorIndex=e.length,Xl(r.data,t),Xl(e,null),Xl(r.blueprint,null));let i=Bd(t,e),s=t.injectorIndex;if(W_(i)){let o=ca(i),a=la(i,e),c=a[x].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function Xl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function q_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Bd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=J_(i),r===null)return Rr;if(n++,i=i[jr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Rr}function bu(t,e,n){rS(t,e,n)}function iS(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(s_(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Y_(t,e,n){if(n&L.Optional||t!==void 0)return t;Cd(e,"NodeInjector")}function K_(t,e,n,r){if(n&L.Optional&&r===void 0&&(r=null),!(n&(L.Self|L.Host))){let i=t[kr],s=Ne(void 0);try{return i?i.get(e,r,n&L.Optional):Jm(e,r,n&L.Optional)}finally{Ne(s)}}return Y_(r,e,n)}function Q_(t,e,n,r=L.Default,i){if(t!==null){if(e[b]&2048&&!(r&L.Self)){let o=cS(t,e,n,r,Ct);if(o!==Ct)return o}let s=Z_(t,e,n,r,Ct);if(s!==Ct)return s}return K_(e,n,r,i)}function Z_(t,e,n,r,i){let s=oS(n);if(typeof s=="function"){if(!F_(e,t,r))return r&L.Host?Y_(i,n,r):K_(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&L.Optional))Cd(n);else return o}finally{j_()}}else if(typeof s=="number"){let o=null,a=q_(t,e),c=Rr,l=r&L.Host?e[Ge][ht]:null;for((a===-1||r&L.SkipSelf)&&(c=a===-1?Bd(t,e):e[a+8],c===Rr||!gm(r,!1)?a=-1:(o=e[x],a=ca(c),e=la(c,e)));a!==-1;){let u=e[x];if(pm(s,a,u.data)){let d=sS(a,e,n,o,r,l);if(d!==Ct)return d}c=e[a+8],c!==Rr&&gm(r,e[x].data[a+8]===l)&&pm(s,a,e)?(o=u,a=ca(c),e=la(c,e)):a=-1}}return i}function sS(t,e,n,r,i,s){let o=e[x],a=o.data[t+8],c=r==null?Xi(a)&&Cu:r!=o&&(a.type&3)!==0,l=i&L.Host&&s===a,u=ea(a,o,n,c,l);return u!==null?jn(e,o,u,a):Ct}function ea(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=o[c];if(h&&Wt(h)&&h.type===n)return c}return null}function jn(t,e,n,r){let i=t[n],s=e.data;if(ZT(i)){let o=i;o.resolving&&Ob(xb(s[n]));let a=ua(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Ne(o.injectImpl):null,u=F_(t,r,L.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&KT(n,s[n],e)}finally{l!==null&&Ne(l),ua(a),o.resolving=!1,j_()}}return i}function oS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Vi)?t[Vi]:void 0;return typeof e=="number"?e>=0?e&G_:aS:e}function pm(t,e,n){let r=1<<t;return!!(n[e+(t>>z_)]&r)}function gm(t,e){return!(t&L.Self)&&!(t&L.Host&&e)}var Pn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Q_(this._tNode,this._lView,e,Sa(r),n)}};function aS(){return new Pn(Ce(),F())}function ts(t){return Qi(()=>{let e=t.prototype.constructor,n=e[ra]||Tu(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ra]||Tu(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Tu(t){return qm(t)?()=>{let e=Tu(Ie(t));return e&&e()}:Fn(t)}function cS(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[b]&2048&&!(o[b]&512);){let a=Z_(s,o,n,r|L.Self,Ct);if(a!==Ct)return a;let c=s.parent;if(!c){let l=o[v_];if(l){let u=l.get(n,Ct,r);if(u!==Ct)return u}c=J_(o),o=o[jr]}s=c}return i}function J_(t){let e=t[x],n=e.type;return n===2?e.declTNode:n===1?t[ht]:null}function lS(t){return iS(Ce(),t)}function mm(t,e=null,n=null,r){let i=X_(t,e,n,r);return i.resolveInjectorInitializers(),i}function X_(t,e=null,n=null,r,i=new Set){let s=[n||we,lT(t)];return r=r||(typeof t=="object"?void 0:De(t)),new Bi(s,e||Nd(),r||null,i)}var qe=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return mm({name:""},i,r,"");{let s=r.name??"";return mm({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ui,e.NULL=new oa,e.\u0275prov=A({token:e,providedIn:"any",factory:()=>S(n_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var uS="ngOriginalError";function eu(t){return t[uS]}var dt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&eu(e);for(;n&&eu(n);)n=eu(n);return n||null}},ey=new I("",{providedIn:"root",factory:()=>E(dt).handleError.bind(void 0)}),ka=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dS,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Su=class extends ka{constructor(e){super(),this._lView=e}onDestroy(e){return M_(this._lView,e),()=>xT(this._lView,e)}};function dS(){return new Su(F())}function fS(){return Hr(Ce(),F())}function Hr(t,e){return new Ve(Le(t,e))}var Ve=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=fS;let t=e;return t})();function hS(t){return t instanceof Ve?t.nativeElement:t}var Au=class extends rn{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,__()&&(this.destroyRef=E(ka,{optional:!0})??void 0)}emit(e){let n=B(null);try{super.next(e)}finally{B(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=tu(s),i&&(i=tu(i)),o&&(o=tu(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof se&&e.add(a),a}};function tu(t){return e=>{setTimeout(t,void 0,e)}}var We=Au;function pS(){return this._results[Symbol.iterator]()}var Nu=class t{get changes(){return this._changes??=new We}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=pS)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Wb(e);(this._changesDetected=!Hb(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},gS="ngSkipHydration",mS="ngskiphydration";function ty(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===mS)return!0}return!1}function ny(t){return t.hasAttribute(gS)}function fa(t){return(t.flags&128)===128}function _S(t){if(fa(t))return!0;let e=t.parent;for(;e;){if(fa(t)||ty(e))return!0;e=e.parent}return!1}var ry=new Map,yS=0;function vS(){return yS++}function ES(t){ry.set(t[Na],t)}function IS(t){ry.delete(t[Na])}var _m="__ngContext__";function un(t,e){Bt(e)?(t[_m]=e[Na],ES(e)):t[_m]=e}function iy(t){return oy(t[Hi])}function sy(t){return oy(t[ot])}function oy(t){for(;t!==null&&!Nt(t);)t=t[ot];return t}var Mu;function ay(t){Mu=t}function ns(){if(Mu!==void 0)return Mu;if(typeof document<"u")return document;throw new C(210,!1)}var Fa=new I("",{providedIn:"root",factory:()=>wS}),wS="ng",$d=new I(""),be=new I("",{providedIn:"platform",factory:()=>"unknown"});var wG=new I(""),Hd=new I("",{providedIn:"root",factory:()=>ns().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function DS(){let t=new Gn;return E(be)==="browser"&&(t.store=CS(ns(),E(Fa))),t}var Gn=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=A({token:e,providedIn:"root",factory:DS});let t=e;return t})();function CS(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var cy="h",ly="b",Ru=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Ru||{}),bS="e",TS="t",Wd="c",uy="x",ha="r",SS="i",AS="n",NS="d",MS="__nghData__",dy=MS,nu="ngh",RS="nghm",fy=()=>null;function xS(t,e,n=!1){let r=t.getAttribute(nu);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,c={};if(r!==""){let u=e.get(Gn,null,{optional:!0});u!==null&&(c=u.get(dy,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,La(l,0,t.nextSibling)),a?t.setAttribute(nu,a):t.removeAttribute(nu),l}function OS(){fy=xS}function Gd(t,e,n=!1){return fy(t,e,n)}function PS(t){let e=t._lView;return e[x].type===2?null:(E_(e)&&(e=e[he]),e)}function kS(t){return t.textContent?.replace(/\s/gm,"")}function FS(t){let e=ns(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=kS(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function La(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function xu(t,e){return t.segmentHeads?.[e]??null}function LS(t,e){let n=t.data,r=n[bS]?.[e]??null;return r===null&&n[Wd]?.[e]&&(r=zd(t,e)),r}function hy(t,e){return t.data[Wd]?.[e]??null}function zd(t,e){let n=hy(t,e)??[],r=0;for(let i of n)r+=i[ha]*(i[uy]??1);return r}function Va(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[NS];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var Ho=new I(""),py=!1,gy=new I("",{providedIn:"root",factory:()=>py}),VS=new I(""),Wo;function US(){if(Wo===void 0&&(Wo=null,ke.trustedTypes))try{Wo=ke.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Wo}function Ua(t){return US()?.createHTML(t)||t}var Go;function my(){if(Go===void 0&&(Go=null,ke.trustedTypes))try{Go=ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Go}function ym(t){return my()?.createHTML(t)||t}function vm(t){return my()?.createScriptURL(t)||t}var Gt=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gm})`}},Ou=class extends Gt{getTypeName(){return"HTML"}},Pu=class extends Gt{getTypeName(){return"Style"}},ku=class extends Gt{getTypeName(){return"Script"}},Fu=class extends Gt{getTypeName(){return"URL"}},Lu=class extends Gt{getTypeName(){return"ResourceURL"}};function Ye(t){return t instanceof Gt?t.changingThisBreaksApplicationSecurity:t}function Kt(t,e){let n=jS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Gm})`)}return n===e}function jS(t){return t instanceof Gt&&t.getTypeName()||null}function _y(t){return new Ou(t)}function yy(t){return new Pu(t)}function vy(t){return new ku(t)}function Ey(t){return new Fu(t)}function Iy(t){return new Lu(t)}function BS(t){let e=new Uu(t);return $S()?new Vu(e):e}var Vu=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Ua(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Uu=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Ua(e),n}};function $S(){try{return!!new window.DOMParser().parseFromString(Ua(""),"text/html")}catch{return!1}}var HS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ja(t){return t=String(t),t.match(HS)?t:"unsafe:"+t}function Qt(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function rs(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var wy=Qt("area,br,col,hr,img,wbr"),Dy=Qt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cy=Qt("rp,rt"),WS=rs(Cy,Dy),GS=rs(Dy,Qt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zS=rs(Cy,Qt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Em=rs(wy,GS,zS,WS),by=Qt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qS=Qt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),YS=Qt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),KS=rs(by,qS,YS),QS=Qt("script,style,template"),ju=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=XS(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=JS(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Im(e).toLowerCase();if(!Em.hasOwnProperty(n))return this.sanitizedSomething=!0,!QS.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!KS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;by[a]&&(c=ja(c)),this.buf.push(" ",o,'="',wm(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=Im(e).toLowerCase();Em.hasOwnProperty(n)&&!wy.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(wm(e))}};function ZS(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function JS(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Ty(e);return e}function XS(t){let e=t.firstChild;if(e&&ZS(t,e))throw Ty(e);return e}function Im(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Ty(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var eA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tA=/([^\#-~ |!])/g;function wm(t){return t.replace(/&/g,"&amp;").replace(eA,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(tA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var zo;function qd(t,e){let n=null;try{zo=zo||BS(t);let r=e?String(e):"";n=zo.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=zo.getInertBodyElement(r)}while(r!==s);let a=new ju().sanitizeChildren(Dm(n)||n);return Ua(a)}finally{if(n){let r=Dm(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Dm(t){return"content"in t&&nA(t)?t.content:null}function nA(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var pt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pt||{});function DG(t){let e=Yd();return e?ym(e.sanitize(pt.HTML,t)||""):Kt(t,"HTML")?ym(Ye(t)):qd(ns(),kn(t))}function rA(t){let e=Yd();return e?e.sanitize(pt.URL,t)||"":Kt(t,"URL")?Ye(t):ja(kn(t))}function iA(t){let e=Yd();if(e)return vm(e.sanitize(pt.RESOURCE_URL,t)||"");if(Kt(t,"ResourceURL"))return vm(Ye(t));throw new C(904,!1)}function sA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?iA:rA}function CG(t,e,n){return sA(e,n)(t)}function Yd(){let t=F();return t&&t[lt].sanitizer}var oA=/^>|^->|<!--|-->|--!>|<!-$/g,aA=/(<|>)/g,cA="\u200B$1\u200B";function lA(t){return t.replace(oA,e=>e.replace(aA,cA))}function bG(t){return t.ownerDocument}function uA(t){return t.ownerDocument.body}function Sy(t){return t instanceof Function?t():t}function Li(t){return(t??E(qe)).get(be)==="browser"}var St=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(St||{}),dA;function Kd(t,e){return dA(t,e)}function Ar(t,e,n,r,i){if(r!=null){let s,o=!1;Nt(r)?s=r:Bt(r)&&(o=!0,r=r[Re]);let a=ut(r);t===0&&n!==null?i==null?Ry(e,n,a):pa(e,n,a,i||null,!0):t===1&&n!==null?pa(e,n,a,i||null,!0):t===2?Xd(e,a,o):t===3&&e.destroyNode(a),s!=null&&AA(e,t,s,n,i)}}function Qd(t,e){return t.createText(e)}function fA(t,e,n){t.setValue(e,n)}function Zd(t,e){return t.createComment(lA(e))}function Ba(t,e,n){return t.createElement(e,n)}function hA(t,e){Ay(t,e),e[Re]=null,e[ht]=null}function pA(t,e,n,r,i,s){r[Re]=i,r[ht]=e,Ha(t,r,n,1,i,s)}function Ay(t,e){e[lt].changeDetectionScheduler?.notify(1),Ha(t,e,e[K],2,null,null)}function gA(t){let e=t[Hi];if(!e)return ru(t[x],t);for(;e;){let n=null;if(Bt(e))n=e[Hi];else{let r=e[Me];r&&(n=r)}if(!n){for(;e&&!e[ot]&&e!==t;)Bt(e)&&ru(e[x],e),e=e[le];e===null&&(e=t),Bt(e)&&ru(e[x],e),n=e&&e[ot]}e=n}}function mA(t,e,n,r){let i=Me+r,s=n.length;r>0&&(n[i-1][ot]=e),r<s-Me?(e[ot]=n[i],t_(n,Me+r,e)):(n.push(e),e[ot]=null),e[le]=n;let o=e[Ji];o!==null&&n!==o&&_A(o,e);let a=e[$t];a!==null&&a.insertView(t),wu(e),e[b]|=128}function _A(t,e){let n=t[Fr],i=e[le][le][Ge];e[Ge]!==i&&(t[b]|=xd.HasTransplantedViews),n===null?t[Fr]=[e]:n.push(e)}function Ny(t,e){let n=t[Fr],r=n.indexOf(e);n.splice(r,1)}function Bu(t,e){if(t.length<=Me)return;let n=Me+e,r=t[n];if(r){let i=r[Ji];i!==null&&i!==t&&Ny(i,r),e>0&&(t[n-1][ot]=r[ot]);let s=sa(t,Me+e);hA(r[x],r);let o=s[$t];o!==null&&o.detachView(s[x]),r[le]=null,r[ot]=null,r[b]&=-129}return r}function My(t,e){if(!(e[b]&256)){let n=e[K];n.destroyNode&&Ha(t,e,n,3,null,null),gA(e)}}function ru(t,e){if(e[b]&256)return;let n=B(null);try{e[b]&=-129,e[b]|=256,e[Ln]&&bl(e[Ln]),vA(t,e),yA(t,e),e[x].type===1&&e[K].destroy();let r=e[Ji];if(r!==null&&Nt(e[le])){r!==e[le]&&Ny(r,e);let i=e[$t];i!==null&&i.detachView(t)}IS(e)}finally{B(n)}}function yA(t,e){let n=t.cleanup,r=e[$i];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[$i]=null);let i=e[cn];if(i!==null){e[cn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function vA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Un)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Dt(4,a,c);try{c.call(a)}finally{Dt(5,a,c)}}else{Dt(4,i,s);try{s.call(i)}finally{Dt(5,i,s)}}}}}function EA(t,e,n){return IA(t,e.parent,n)}function IA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Re];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===bt.None||s===bt.Emulated)return null}return Le(r,n)}}function pa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ry(t,e,n){t.appendChild(e,n)}function Cm(t,e,n,r,i){r!==null?pa(t,e,n,r,i):Ry(t,e,n)}function wA(t,e,n,r){t.removeChild(e,n,r)}function Jd(t,e){return t.parentNode(e)}function DA(t,e){return t.nextSibling(e)}function CA(t,e,n){return TA(t,e,n)}function bA(t,e,n){return t.type&40?Le(t,n):null}var TA=bA,bm;function $a(t,e,n,r){let i=EA(t,r,e),s=e[K],o=r.parent||e[ht],a=CA(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Cm(s,i,n[c],a,!1);else Cm(s,i,n,a,!1);bm!==void 0&&bm(s,r,e,n,i)}function ta(t,e){if(e!==null){let n=e.type;if(n&3)return Le(e,t);if(n&4)return $u(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ta(t,r);{let i=t[e.index];return Nt(i)?$u(-1,i):ut(i)}}else{if(n&32)return Kd(e,t)()||ut(t[e.index]);{let r=xy(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=zi(t[Ge]);return ta(i,r)}else return ta(t,e.next)}}}return null}function xy(t,e){if(e!==null){let r=t[Ge][ht],i=e.projection;return r.projection[i]}return null}function $u(t,e){let n=Me+t+1;if(n<e.length){let r=e[n],i=r[x].firstChild;if(i!==null)return ta(r,i)}return e[Ht]}function Xd(t,e,n){let r=Jd(t,e);r&&wA(t,r,e,n)}function Oy(t){t.textContent=""}function ef(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&un(ut(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)ef(t,e,n.child,r,i,s,!1),Ar(e,t,i,a,s);else if(c&32){let l=Kd(n,r),u;for(;u=l();)Ar(e,t,i,u,s);Ar(e,t,i,a,s)}else c&16?SA(t,e,r,n,i,s):Ar(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ha(t,e,n,r,i,s){ef(n,r,t.firstChild,e,i,s,!1)}function SA(t,e,n,r,i,s){let o=n[Ge],c=o[ht].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ar(e,t,i,u,s)}else{let l=c,u=o[le];fa(r)&&(l.flags|=128),ef(t,e,l,u,i,s,!0)}}function AA(t,e,n,r,i){let s=n[Ht],o=ut(n);s!==o&&Ar(e,t,r,s,i);for(let a=Me;a<n.length;a++){let c=n[a];Ha(c[x],c,t,e,r,s)}}function NA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:St.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=St.Important),t.setStyle(n,r,i,s))}}function MA(t,e,n){t.setAttribute(e,"style",n)}function Py(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ky(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&_u(t,e,r),i!==null&&Py(t,e,i),s!==null&&MA(t,e,s)}var Ke={};function TG(t=1){Fy(oe(),F(),pn()+t,!1)}function Fy(t,e,n,r){if(!r)if((e[b]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Jo(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Xo(e,s,0,n)}Vn(n)}function k(t,e=L.Default){let n=F();if(n===null)return S(t,e);let r=Ce();return Q_(r,n,Ie(t),e)}function SG(){let t="invalid";throw new Error(t)}function Ly(t,e,n,r,i,s){let o=B(null);try{let a=null;i&Fe.SignalBased&&(a=e[r][bn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Fe.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):I_(e,a,r,s)}finally{B(o)}}function RA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Vn(~i);else{let s=i,o=n[++r],a=n[++r];WT(o,s);let c=e[s];a(2,c)}}}finally{Vn(-1)}}function Wa(t,e,n,r,i,s,o,a,c,l,u){let d=e.blueprint.slice();return d[Re]=i,d[b]=r|4|128|8|64,(l!==null||t&&t[b]&2048)&&(d[b]|=2048),N_(d),d[le]=d[jr]=t,d[ct]=n,d[lt]=o||t&&t[lt],d[K]=a||t&&t[K],d[kr]=c||t&&t[kr]||null,d[ht]=s,d[Na]=vS(),d[at]=u,d[v_]=l,d[Ge]=e.type==2?t[Ge]:d,d}function is(t,e,n,r,i){let s=t.data[e];if(s===null)s=xA(t,e,n,r,i),HT()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=UT();s.injectorIndex=o===null?-1:o.injectorIndex}return Wn(s,!0),s}function xA(t,e,n,r,i){let s=x_(),o=Fd(),a=o?s:s&&s.parent,c=t.data[e]=UA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function Vy(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Uy(t,e,n,r,i){let s=pn(),o=r&2;try{Vn(-1),o&&e.length>he&&Fy(t,e,he,!1),Dt(o?2:0,i),n(r,i)}finally{Vn(s),Dt(o?3:1,i)}}function tf(t,e,n){if(Od(e)){let r=B(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{B(r)}}}function nf(t,e,n){R_()&&(GA(t,e,n,Le(n,e)),(n.flags&64)===64&&Hy(t,e,n))}function rf(t,e,n=Le){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function jy(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=sf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function sf(t,e,n,r,i,s,o,a,c,l,u){let d=he+r,f=d+i,h=OA(d,f),p=typeof l=="function"?l():l;return h[x]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function OA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ke);return n}function PA(t,e,n,r){let s=r.get(gy,py)||n===bt.ShadowDom,o=t.selectRootElement(e,s);return kA(o),o}function kA(t){By(t)}var By=()=>null;function FA(t){ny(t)?Oy(t):FS(t)}function LA(){By=FA}function VA(t,e,n,r){let i=zy(e);i.push(n),t.firstCreatePass&&qy(t).push(r,i.length-1)}function UA(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return es()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Tm(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Fe.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?Sm(r,n,l,a,c):Sm(r,n,l,a)}return r}function Sm(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function jA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=s[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=Tm(0,d.inputs,u,c,h),l=Tm(1,d.outputs,u,l,p);let _=c!==null&&o!==null&&!Sd(e)?n0(c,u,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function BA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function of(t,e,n,r,i,s,o,a){let c=Le(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(cf(t,n,u,r,i),Xi(e)&&$A(n,e.index)):e.type&3?(r=BA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function $A(t,e){let n=hn(e,t);n[b]&16||(n[b]|=64)}function af(t,e,n,r){if(R_()){let i=r===null?null:{"":-1},s=qA(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&$y(t,e,n,o,i,a),i&&YA(n,r,i)}n.mergedAttrs=ji(n.mergedAttrs,n.attrs)}function $y(t,e,n,r,i,s){for(let l=0;l<r.length;l++)bu(da(n,e),t,r[l].type);QA(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=Vy(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=ji(n.mergedAttrs,u.hostAttrs),ZA(t,n,e,c,u),KA(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}jA(t,n,s)}function HA(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;WA(o)!=a&&o.push(a),o.push(n,r,s)}}function WA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function GA(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Xi(n)&&JA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||da(n,e),un(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=jn(e,t,a,n);if(un(l,e),o!==null&&t0(e,a-i,l,c,n,o),Wt(c)){let u=hn(n.index,e);u[ct]=jn(e,t,a,n)}}}function Hy(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=GT();try{Vn(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Du(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&zA(c,l)}}finally{Vn(-1),Du(o)}}function zA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function qA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Xb(e,o.selectors,!1))if(r||(r=[]),Wt(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Hu(t,e,c)}else r.unshift(o),Hu(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Hu(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new C(-301,!1);r.push(e[i],s)}}}function KA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wt(e)&&(n[""]=t)}}function QA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ZA(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Fn(i.type,!0)),o=new Un(s,Wt(i),k);t.blueprint[r]=o,n[r]=o,HA(t,e,r,Vy(t,n,i.hostVars,Ke),i)}function JA(t,e,n){let r=Le(e,t),i=jy(n),s=t[lt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ga(t,Wa(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function XA(t,e,n,r,i,s){let o=Le(t,e);e0(e[K],o,s,t.value,n,r,i)}function e0(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?kn(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function t0(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];Ly(r,n,c,l,u,d)}}function n0(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function Wy(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Gy(t,e){let n=t.contentQueries;if(n!==null){let r=B(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Vd(s),a.contentQueries(2,e[o],o)}}}finally{B(r)}}}function Ga(t,e){return t[Hi]?t[dm][ot]=e:t[Hi]=e,t[dm]=e,e}function Wu(t,e,n){Vd(0);let r=B(null);try{e(t,n)}finally{B(r)}}function zy(t){return t[$i]||(t[$i]=[])}function qy(t){return t.cleanup||(t.cleanup=[])}function r0(t,e,n){return(t===null||Wt(t))&&(n=ST(n[e.index])),n[K]}function Yy(t,e){let n=t[kr],r=n?n.get(dt,null):null;r&&r.handleError(e)}function cf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],u=t.data[o];Ly(u,l,r,a,c,i)}}function Ky(t,e,n){let r=T_(e,t);fA(t[K],r,n)}function i0(t,e){let n=hn(e,t),r=n[x];s0(r,n);let i=n[Re];i!==null&&n[at]===null&&(n[at]=Gd(i,n[kr])),lf(r,n,n[ct])}function s0(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function lf(t,e,n){Ud(e);try{let r=t.viewQuery;r!==null&&Wu(1,r,n);let i=t.template;i!==null&&Uy(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[$t]?.finishViewCreation(t),t.staticContentQueries&&Gy(t,e),t.staticViewQueries&&Wu(2,t.viewQuery,n);let s=t.components;s!==null&&o0(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[b]&=-5,jd()}}function o0(t,e){for(let n=0;n<e.length;n++)i0(t,e[n])}function a0(t,e,n,r){let i=B(null);try{let s=e.tView,a=t[b]&4096?4096:16,c=Wa(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ji]=l;let u=t[$t];return u!==null&&(c[$t]=u.createEmbeddedView(s)),lf(s,c,n),c}finally{B(i)}}function Am(t,e){return!e||e.firstChild===null||fa(t)}function c0(t,e,n,r=!0){let i=e[x];if(mA(i,e,t,n),r){let o=$u(n,t),a=e[K],c=Jd(a,t[Ht]);c!==null&&pA(i,t[ht],a,e,c,o)}let s=e[at];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ga(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(ut(s)),Nt(s)&&l0(s,r);let o=n.type;if(o&8)ga(t,e,n.child,r);else if(o&32){let a=Kd(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=xy(e,n);if(Array.isArray(a))r.push(...a);else{let c=zi(e[Ge]);ga(c[x],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function l0(t,e){for(let n=Me;n<t.length;n++){let r=t[n],i=r[x].firstChild;i!==null&&ga(r[x],r,i,e)}t[Ht]!==t[Re]&&e.push(t[Ht])}var Qy=[];function u0(t){return t[Ln]??d0(t)}function d0(t){let e=Qy.pop()??Object.create(h0);return e.lView=t,e}function f0(t){t.lView[Ln]!==t&&(t.lView=null,Qy.push(t))}var h0=ae(te({},go),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gi(t.lView)},consumerOnSignalRead(){this.lView[Ln]=this}}),Zy=100;function Jy(t,e=!0,n=0){let r=t[lt],i=r.rendererFactory,s=!1;s||i.begin?.();try{p0(t,n)}catch(o){throw e&&Yy(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function p0(t,e){Gu(t,e);let n=0;for(;kd(t);){if(n===Zy)throw new C(103,!1);n++,Gu(t,1)}}function g0(t,e,n,r){let i=e[b];if((i&256)===256)return;let s=!1;!s&&e[lt].inlineEffectRunner?.flush(),Ud(e);let o=null,a=null;!s&&m0(t)&&(a=u0(e),o=Dl(a));try{N_(e),$T(t.bindingStartIndex),n!==null&&Uy(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Jo(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Xo(e,d,0,null),Jl(e,0)}if(_0(e),Xy(e,0),t.contentQueries!==null&&Gy(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Jo(e,d)}else{let d=t.contentHooks;d!==null&&Xo(e,d,1),Jl(e,1)}RA(t,e);let l=t.components;l!==null&&tv(e,l,0);let u=t.viewQuery;if(u!==null&&Wu(2,u,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Jo(e,d)}else{let d=t.viewHooks;d!==null&&Xo(e,d,2),Jl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zo]){for(let d of e[Zo])d();e[Zo]=null}s||(e[b]&=-73)}catch(c){throw Gi(e),c}finally{a!==null&&(Cl(a,o),f0(a)),jd()}}function m0(t){return t.type!==2}function Xy(t,e){for(let n=iy(t);n!==null;n=sy(n))for(let r=Me;r<n.length;r++){let i=n[r];ev(i,e)}}function _0(t){for(let e=iy(t);e!==null;e=sy(e)){if(!(e[b]&xd.HasTransplantedViews))continue;let n=e[Fr];for(let r=0;r<n.length;r++){let i=n[r],s=i[le];MT(i)}}}function y0(t,e,n){let r=hn(e,t);ev(r,n)}function ev(t,e){Pd(t)&&Gu(t,e)}function Gu(t,e){let r=t[x],i=t[b],s=t[Ln],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&mo(s)),s&&(s.dirty=!1),t[b]&=-9217,o)g0(r,t,r.template,t[ct]);else if(i&8192){Xy(t,1);let a=r.components;a!==null&&tv(t,a,1)}}function tv(t,e,n){for(let r=0;r<e.length;r++)y0(t,e[r],n)}function uf(t){for(t[lt].changeDetectionScheduler?.notify();t;){t[b]|=64;let e=zi(t);if(E_(t)&&!e)return t;t=e}return null}var Bn=class{get rootNodes(){let e=this._lView,n=e[x];return ga(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ct]}set context(e){this._lView[ct]=e}get destroyed(){return(this._lView[b]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[le];if(Nt(e)){let n=e[aa],r=n?n.indexOf(this):-1;r>-1&&(Bu(e,r),sa(n,r))}this._attachedToViewContainer=!1}My(this._lView[x],this._lView)}onDestroy(e){M_(this._lView,e)}markForCheck(){uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[b]&=-129}reattach(){wu(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,Jy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Ay(this._lView[x],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,wu(this._lView)}},$n=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=I0;let t=e;return t})(),v0=$n,E0=class extends v0{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=a0(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Bn(i)}};function I0(){return df(Ce(),F())}function df(t,e){return t.type&4?new E0(e,t,Hr(t,e)):null}function nv(t){let e=t[Wi]??[],r=t[le][K];for(let i of e)w0(i,r);t[Wi]=we}function w0(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ha];for(;n<i;){let s=r.nextSibling;Xd(e,r,!1),r=s,n++}}}function rv(t){nv(t);for(let e=Me;e<t.length;e++)ma(t[e])}function D0(t){let e=t[at]?.i18nNodes;if(e){let n=t[K];for(let r of e.values())Xd(n,r,!1);t[at].i18nNodes=void 0}}function ma(t){D0(t);let e=t[x];for(let n=he;n<e.bindingStartIndex;n++)if(Nt(t[n])){let r=t[n];rv(r)}else Bt(t[n])&&ma(t[n])}function C0(t){let e=t._views;for(let n of e){let r=PS(n);if(r!==null&&r[Re]!==null)if(Bt(r))ma(r);else{let i=r[Re];ma(i),rv(r)}}}var b0=new RegExp(`^(\\d+)*(${ly}|${cy})*(.*)`);function T0(t){let e=t.match(b0),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[c,l,u]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[o,...a]}function S0(t){return!t.prev&&t.parent?.type===8}function iu(t){return t.index-he}function A0(t,e){let n=t.i18nNodes;if(n){let r=n.get(e);return r&&n.delete(e),r}return null}function za(t,e,n,r){let i=iu(r),s=A0(t,i);if(!s){let o=t.data[AS];if(o?.[i])s=M0(o[i],n);else if(e.firstChild===r)s=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(S0(r)){let l=iu(r.parent);s=xu(t,l)}else{let l=Le(c,n);if(a)s=l.firstChild;else{let u=iu(c),d=xu(t,u);if(c.type===2&&d){let h=zd(t,u)+1;s=qa(h,d)}else s=l.nextSibling}}}}return s}function qa(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function N0(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case Ru.FirstChild:n=n.firstChild;break;case Ru.NextSibling:n=n.nextSibling;break}}return n}function M0(t,e){let[n,...r]=T0(t),i;if(n===cy)i=e[Ge][Re];else if(n===ly)i=uA(e[Ge][Re]);else{let s=Number(n);i=ut(e[s+he])}return N0(i,r)}function R0(t,e){let n=[];for(let r of e)for(let i=0;i<(r[uy]??1);i++){let s={data:r,firstChild:null};r[ha]>0&&(s.firstChild=t,t=qa(r[ha],t)),n.push(s)}return[t,n]}var iv=()=>null;function x0(t,e){let n=t[Wi];return!e||n===null||n.length===0?null:n[0].data[SS]===e?n.shift():(nv(t),null)}function O0(){iv=x0}function Nm(t,e){return iv(t,e)}var _a=class{},zu=class{},ya=class{};function P0(t){let e=Error(`No component factory found for ${De(t)}.`);return e[k0]=t,e}var k0="ngComponent";var qu=class{resolveComponentFactory(e){throw P0(e)}},Ya=(()=>{let e=class e{};e.NULL=new qu;let t=e;return t})(),qi=class{},Zt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>F0();let t=e;return t})();function F0(){let t=F(),e=Ce(),n=hn(e.index,t);return(Bt(n)?n:t)[K]}var L0=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),su={};var Mm=new Set;function gn(t){Mm.has(t)||(Mm.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Rm(...t){}function V0(){let t=typeof ke.requestAnimationFrame=="function",e=ke[t?"requestAnimationFrame":"setTimeout"],n=ke[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Q=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=V0().nativeRequestAnimationFrame,B0(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,U0,Rm,Rm);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},U0={};function ff(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function j0(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yu(t),t.isCheckStableRunning=!0,ff(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yu(t))}function B0(t){let e=()=>{j0(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if($0(a))return n.invokeTask(i,s,o,a);try{return xm(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Om(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return xm(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Om(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Yu(t),ff(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Yu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function xm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Om(t){t._nesting--,ff(t)}function $0(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Nr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Nr||{}),H0={destroy(){}};function W0(t,e){!e&&y_(W0);let n=e?.injector??E(qe);if(!Li(n))return H0;gn("NgAfterNextRender");let r=n.get(hf),i=r.handler??=new Qu,s=e?.phase??Nr.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ka).onDestroy(o),c=Md(n,()=>new Ku(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var Ku=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=E(Q),this.errorHandler=E(dt,{optional:!0}),E(_a,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Qu=class{constructor(){this.executingCallbacks=!1,this.buckets={[Nr.EarlyRead]:new Set,[Nr.Write]:new Set,[Nr.MixedReadWrite]:new Set,[Nr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},hf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function va(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=hu(i,a);else if(s==2){let c=a,l=e[++o];r=hu(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ea=class extends Ya{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ln(e);return new Vr(n,this.ngModule)}};function Pm(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function G0(t){let e=t.toLowerCase();return e==="svg"?b_:e==="math"?CT:null}var Zu=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Sa(r);let i=this.injector.get(e,su,r);return i!==su||n===su?i:this.parentInjector.get(e,n,r)}},Vr=class extends ya{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Pm(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Pm(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=rT(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=B(null);try{i=i||this.ngModule;let o=i instanceof Tt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Zu(e,o):e,c=a.get(qi,null);if(c===null)throw new C(407,!1);let l=a.get(L0,null),u=a.get(hf,null),d=a.get(_a,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",_=r?PA(h,r,this.componentDef.encapsulation,a):Ba(h,p,G0(p)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let v=null;_!==null&&(v=Gd(_,a,!0));let N=sf(0,null,null,1,0,null,null,null,null,null,null),T=Wa(null,N,null,g,null,null,f,h,a,null,v);Ud(T);let w,ee;try{let J=this.componentDef,Ee,tt=null;J.findHostDirectiveDefs?(Ee=[],tt=new Map,J.findHostDirectiveDefs(J,Ee,tt),Ee.push(J)):Ee=[J];let Vt=z0(T,_),El=q0(Vt,_,J,Ee,T,f,h);ee=S_(N,he),_&&Q0(h,J,_,r),n!==void 0&&Z0(ee,this.ngContentSelectors,n),w=K0(El,J,Ee,tt,T,[J0]),lf(N,T,null)}finally{jd()}return new Ju(this.componentType,w,Hr(ee,T),T,ee)}finally{B(s)}}},Ju=class extends zu{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Bn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;cf(s[x],s,i,e,n),this.previousInputValues.set(e,n);let o=hn(this._tNode.index,s);uf(o)}}get injector(){return new Pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function z0(t,e){let n=t[x],r=he;return t[r]=e,is(n,r,2,"#host",null)}function q0(t,e,n,r,i,s,o){let a=i[x];Y0(r,t,e,o);let c=null;e!==null&&(c=Gd(e,i[kr]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Wa(i,jy(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Hu(a,t,r.length-1),Ga(i,d),i[t.index]=d}function Y0(t,e,n,r){for(let i of t)e.mergedAttrs=ji(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(va(e,e.mergedAttrs,!0),n!==null&&ky(r,n,e))}function K0(t,e,n,r,i,s){let o=Ce(),a=i[x],c=Le(o,i);$y(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,f=jn(i,a,d,o);un(f,i)}Hy(a,i,o),c&&un(c,i);let l=jn(i,a,o.directiveStart+o.componentOffset,o);if(t[ct]=i[ct]=l,s!==null)for(let u of s)u(l,e);return tf(a,o,i),l}function Q0(t,e,n,r){if(r)_u(t,n,["ng-version","17.3.10"]);else{let{attrs:i,classes:s}=iT(e.selectors[0]);i&&_u(t,n,i),s&&s.length>0&&Py(t,n,s.join(" "))}}function Z0(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function J0(){let t=Ce();Pa(F()[x],t)}var zn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=X0;let t=e;return t})();function X0(){let t=Ce();return ov(t,F())}var eN=zn,sv=class extends eN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Hr(this._hostTNode,this._hostLView)}get injector(){return new Pn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Bd(this._hostTNode,this._hostLView);if(W_(e)){let n=la(e,this._hostLView),r=ca(e),i=n[x].data[r+8];return new Pn(i,n)}else return new Pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=km(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Me}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Nm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Am(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!ET(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=o?e:new Vr(ln(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?l:this.parentInjector).get(Tt,null);_&&(s=_)}let u=ln(c.componentType??{}),d=Nm(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,s);return this.insertImpl(h.hostView,a,Am(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(NT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[le],l=new sv(c,c[ht],c[le]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return c0(o,i,s,r),e.attachToViewContainerRef(),t_(ou(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=km(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Bu(this._lContainer,n);r&&(sa(ou(this._lContainer),n),My(r[x],r))}detach(e){let n=this._adjustIndex(e,-1),r=Bu(this._lContainer,n);return r&&sa(ou(this._lContainer),n)!=null?new Bn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function km(t){return t[aa]}function ou(t){return t[aa]||(t[aa]=[])}function ov(t,e){let n,r=e[t.index];return Nt(r)?n=r:(n=Wy(r,e,null,t),e[t.index]=n,Ga(e,n)),av(n,e,t,r),new sv(n,t,e)}function tN(t,e){let n=t[K],r=n.createComment(""),i=Le(e,t),s=Jd(n,i);return pa(n,s,r,DA(n,i),!1),r}var av=cv,pf=()=>!1;function nN(t,e,n){return pf(t,e,n)}function cv(t,e,n,r){if(t[Ht])return;let i;n.type&8?i=ut(r):i=tN(e,n),t[Ht]=i}function rN(t,e,n){if(t[Ht]&&t[Wi])return!0;let r=n[at],i=e.index-he;if(!r||_S(e)||Va(r,i))return!1;let o=xu(r,i),a=r.data[Wd]?.[i],[c,l]=R0(o,a);return t[Ht]=c,t[Wi]=l,!0}function iN(t,e,n,r){pf(t,n,e)||cv(t,e,n,r)}function sN(){av=iN,pf=rN}var Xu=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},ed=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)gf(e,n).matches!==null&&this.queries[n].setDirty()}},td=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=hN(e):this.predicate=e}},nd=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},rd=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,oN(n,s)),this.matchTNodeWithReadOption(e,n,ea(n,e,s,!1,!1))}else r===$n?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ea(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ve||i===zn||i===$n&&n.type&4)this.addMatch(n.index,-2);else{let s=ea(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function oN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function aN(t,e){return t.type&11?Hr(t,e):t.type&4?df(t,e):null}function cN(t,e,n,r){return n===-1?aN(e,t):n===-2?lN(t,e,r):jn(t,t[x],n,e)}function lN(t,e,n){if(n===Ve)return Hr(e,t);if(n===$n)return df(e,t);if(n===zn)return ov(e,t)}function lv(t,e,n,r){let i=e[$t].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(cN(e,u,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function id(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=lv(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let d=Me;d<u.length;d++){let f=u[d];f[Ji]===f[le]&&id(f[x],f,l,r)}if(u[Fr]!==null){let d=u[Fr];for(let f=0;f<d.length;f++){let h=d[f];id(h[x],h,l,r)}}}}}return r}function uN(t,e){return t[$t].queries[e].queryList}function dN(t,e,n){let r=new Nu((n&4)===4);return VA(t,e,r,r.destroy),(e[$t]??=new ed).queries.push(new Xu(r))-1}function fN(t,e,n,r){let i=oe();if(i.firstCreatePass){let s=Ce();pN(i,new td(e,n,r),s.index),gN(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return dN(i,F(),n)}function hN(t){return t.split(",").map(e=>e.trim())}function pN(t,e,n){t.queries===null&&(t.queries=new nd),t.queries.track(new rd(e,n))}function gN(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function gf(t,e){return t.queries.getByIndex(e)}function mN(t,e){let n=t[x],r=gf(n,e);return r.crossesNgTemplate?id(n,t,e,[]):lv(n,t,r,e)}function MG(t,e){gn("NgSignals");let n=Cg(t),r=n[bn];return e?.equal&&(r.equal=e.equal),n.set=i=>Tl(r,i),n.update=i=>bg(r,i),n.asReadonly=_N.bind(n),n}function _N(){let t=this[bn];if(t.readonlyFn===void 0){let e=()=>this();e[bn]=t,t.readonlyFn=e}return t.readonlyFn}function yN(t){return Object.getPrototypeOf(t.prototype).constructor}function gt(t){let e=yN(t.type),n=!0,r=[t];for(;e;){let i;if(Wt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=qo(t.inputs),o.inputTransforms=qo(t.inputTransforms),o.declaredInputs=qo(t.declaredInputs),o.outputs=qo(t.outputs);let a=i.hostBindings;a&&DN(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&IN(t,c),l&&wN(t,l),vN(t,i),Cb(t.outputs,i.outputs),Wt(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===gt&&(n=!1)}}e=Object.getPrototypeOf(e)}EN(r)}function vN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function EN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ji(i.hostAttrs,n=ji(n,i.hostAttrs))}}function qo(t){return t===xr?{}:t===we?[]:t}function IN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function wN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function DN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function CN(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var dn=class{},sd=class{};var od=class extends dn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ea(this);let i=u_(e);this._bootstrapComponents=Sy(i.bootstrap),this._r3Injector=X_(e,n,[{provide:dn,useValue:this},{provide:Ya,useValue:this.componentFactoryResolver},...r],De(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ad=class extends sd{constructor(e){super(),this.moduleType=e}create(e){return new od(this.moduleType,e,[])}};var Ia=class extends dn{constructor(e){super(),this.componentFactoryResolver=new Ea(this),this.instance=null;let n=new Bi([...e.providers,{provide:dn,useValue:this},{provide:Ya,useValue:this.componentFactoryResolver}],e.parent||Nd(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function bN(t,e,n=null){return new Ia({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Wr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ri(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uv(t){return mf(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function TN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function mf(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ss(t,e,n){return t[e]=n}function SN(t,e){return t[e]}function ft(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Yi(t,e,n,r){let i=ft(t,e,n);return ft(t,e+1,r)||i}function AN(t,e,n,r,i){let s=Yi(t,e,n,r);return ft(t,e+2,i)||s}function dv(t,e,n,r,i,s){let o=Yi(t,e,n,r);return Yi(t,e+2,i,s)||o}function os(t){return(t.flags&32)===32}function NN(t,e,n,r,i,s,o,a,c){let l=e.consts,u=is(e,t,4,o||null,Lr(l,a));af(e,n,u,Lr(l,c)),Pa(e,u);let d=u.tView=sf(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function MN(t,e,n,r,i,s,o,a){let c=F(),l=oe(),u=t+he,d=l.firstCreatePass?NN(u,l,c,e,n,r,i,s,o):l.data[u];Wn(d,!1);let f=fv(l,c,d,t);Oa()&&$a(l,c,f,d),un(f,c);let h=Wy(f,c,f,d);return c[u]=h,Ga(c,h),nN(h,d,c),Ma(d)&&nf(l,c,d),o!=null&&rf(c,d,a),MN}var fv=hv;function hv(t,e,n,r){return Mt(!0),e[K].createComment("")}function RN(t,e,n,r){let i=e[at],s=!i||es()||os(n)||Va(i,r);if(Mt(s),s)return hv(t,e,n,r);let o=i.data[TS]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=za(i,t,e,n);La(i,r,a);let c=zd(i,r);return qa(c,a)}function xN(){fv=RN}function pv(t,e,n,r){let i=F(),s=Ra();if(ft(i,s,e)){let o=oe(),a=xa();XA(a,i,t,e,n,r)}return pv}function gv(t,e,n,r){return ft(t,Ra(),n)?e+kn(n)+r:Ke}function ON(t,e,n,r,i,s){let o=BT(),a=Yi(t,o,n,i);return Ld(2),a?e+kn(n)+r+kn(i)+s:Ke}function Yo(t,e){return t<<17|e<<2}function Hn(t){return t>>17&32767}function PN(t){return(t&2)==2}function kN(t,e){return t&131071|e<<17}function cd(t){return t|2}function Ur(t){return(t&131068)>>2}function au(t,e){return t&-131069|e<<2}function FN(t){return(t&1)===1}function ld(t){return t|1}function LN(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Hn(o),c=Ur(o);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Zi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Hn(t[a+1]);t[r+1]=Yo(f,a),f!==0&&(t[f+1]=au(t[f+1],r)),t[a+1]=kN(t[a+1],r)}else t[r+1]=Yo(a,0),a!==0&&(t[a+1]=au(t[a+1],r)),a=r;else t[r+1]=Yo(c,0),a===0?a=r:t[c+1]=au(t[c+1],r),c=r;l&&(t[r+1]=cd(t[r+1])),Fm(t,u,r,!0),Fm(t,u,r,!1),VN(e,u,t,r,s),o=Yo(a,c),s?e.classBindings=o:e.styleBindings=o}function VN(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Zi(s,e)>=0&&(n[r+1]=ld(n[r+1]))}function Fm(t,e,n,r){let i=t[n+1],s=e===null,o=r?Hn(i):Ur(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];UN(c,e)&&(a=!0,t[o+1]=r?ld(l):cd(l)),o=r?Hn(l):Ur(l)}a&&(t[n+1]=r?cd(i):ld(i))}function UN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Zi(t,e)>=0:!1}var st={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jN(t){return t.substring(st.key,st.keyEnd)}function BN(t){return $N(t),mv(t,_v(t,0,st.textEnd))}function mv(t,e){let n=st.textEnd;return n===e?-1:(e=st.keyEnd=HN(t,st.key=e,n),_v(t,e,n))}function $N(t){st.key=0,st.keyEnd=0,st.value=0,st.valueEnd=0,st.textEnd=t.length}function _v(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function HN(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function WN(t,e,n){let r=F(),i=Ra();if(ft(r,i,e)){let s=oe(),o=xa();of(s,o,r,t,e,r[K],n,!1)}return WN}function ud(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";cf(t,n,s[o],o,r)}function yv(t,e,n){return vv(t,e,n,!1),yv}function Ka(t,e){return vv(t,e,null,!0),Ka}function RG(t){zN(JN,GN,t,!0)}function GN(t,e){for(let n=BN(e);n>=0;n=mv(e,n))Td(t,jN(e),!0)}function vv(t,e,n,r){let i=F(),s=oe(),o=Ld(2);if(s.firstUpdatePass&&Iv(s,t,o,r),e!==Ke&&ft(i,o,e)){let a=s.data[pn()];wv(s,a,i,i[K],t,i[o+1]=eM(e,n),r,o)}}function zN(t,e,n,r){let i=oe(),s=Ld(2);i.firstUpdatePass&&Iv(i,null,s,r);let o=F();if(n!==Ke&&ft(o,s,n)){let a=i.data[pn()];if(Dv(a,r)&&!Ev(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=hu(c,n||"")),ud(i,a,o,n,r)}else XN(i,a,o,o[K],o[s+1],o[s+1]=ZN(t,e,n),r,s)}}function Ev(t,e){return e>=t.expandoStartIndex}function Iv(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[pn()],o=Ev(t,n);Dv(s,r)&&e===null&&!o&&(e=!1),e=qN(i,s,e,r),LN(i,s,e,n,o,r)}}function qN(t,e,n,r){let i=P_(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cu(null,t,e,n,r),n=Ki(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=cu(i,t,e,n,r),s===null){let c=YN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=cu(null,t,e,c[1],r),c=Ki(c,e.attrs,r),KN(t,e,r,c))}else s=QN(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function YN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ur(r)!==0)return t[Hn(r)]}function KN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Hn(i)]=r}function QN(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ki(r,o,n)}return Ki(r,e.attrs,n)}function cu(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ki(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ki(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Td(t,o,n?!0:e[++s]))}return t===void 0?null:t}function ZN(t,e,n){if(n==null||n==="")return we;let r=[],i=Ye(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function JN(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Td(t,r,n)}function XN(t,e,n,r,i,s,o,a){i===Ke&&(i=we);let c=0,l=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let f=c<i.length?i[c+1]:void 0,h=l<s.length?s[l+1]:void 0,p=null,_;u===d?(c+=2,l+=2,f!==h&&(p=d,_=h)):d===null||u!==null&&u<d?(c+=2,p=u):(l+=2,p=d,_=h),p!==null&&wv(t,e,n,r,p,_,o,a),u=c<i.length?i[c]:null,d=l<s.length?s[l]:null}}function wv(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=FN(l)?Lm(c,e,n,i,Ur(l),o):void 0;if(!wa(u)){wa(s)||PN(l)&&(s=Lm(c,null,n,i,a,o));let d=T_(pn(),n);NA(r,o,d,i,s)}}function Lm(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===Ke&&(f=d?we:void 0);let h=d?Ql(f,r):u===r?f:void 0;if(l&&!wa(h)&&(h=Ql(c,r)),wa(h)&&(a=h,o))return a;let p=t[i+1];i=o?Hn(p):Ur(p)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Ql(c,r))}return a}function wa(t){return t!==void 0}function eM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=De(Ye(t)))),t}function Dv(t,e){return(t.flags&(e?8:16))!==0}function tM(t,e,n,r,i,s){let o=e.consts,a=Lr(o,i),c=is(e,t,2,r,a);return af(e,n,c,Lr(o,s)),c.attrs!==null&&va(c,c.attrs,!1),c.mergedAttrs!==null&&va(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Cv(t,e,n,r){let i=F(),s=oe(),o=he+t,a=i[K],c=s.firstCreatePass?tM(o,s,i,e,n,r):s.data[o],l=Tv(s,i,c,a,e,t);i[o]=l;let u=Ma(c);return Wn(c,!0),ky(a,l,c),!os(c)&&Oa()&&$a(s,i,l,c),OT()===0&&un(l,i),PT(),u&&(nf(s,i,c),tf(s,c,i)),r!==null&&rf(i,c),Cv}function bv(){let t=Ce();Fd()?O_():(t=t.parent,Wn(t,!1));let e=t;FT(e)&&VT(),kT();let n=oe();return n.firstCreatePass&&(Pa(n,t),Od(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&JT(e)&&ud(n,e,F(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&XT(e)&&ud(n,e,F(),e.stylesWithoutHost,!1),bv}function nM(t,e,n,r){return Cv(t,e,n,r),bv(),nM}var Tv=(t,e,n,r,i,s)=>(Mt(!0),Ba(r,i,B_()));function rM(t,e,n,r,i,s){let o=e[at],a=!o||es()||os(n)||Va(o,s);if(Mt(a),a)return Ba(r,i,B_());let c=za(o,t,e,n);return hy(o,s)&&La(o,s,c.nextSibling),o&&(ty(n)||ny(c))&&Xi(n)&&(LT(n),Oy(c)),c}function iM(){Tv=rM}function sM(t,e,n,r,i){let s=e.consts,o=Lr(s,r),a=is(e,t,8,"ng-container",o);o!==null&&va(a,o,!0);let c=Lr(s,i);return af(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function oM(t,e,n){let r=F(),i=oe(),s=t+he,o=i.firstCreatePass?sM(s,i,r,e,n):i.data[s];Wn(o,!0);let a=Sv(i,r,o,t);return r[s]=a,Oa()&&$a(i,r,a,o),un(a,r),Ma(o)&&(nf(i,r,o),tf(i,o,r)),n!=null&&rf(r,o),oM}function aM(){let t=Ce(),e=oe();return Fd()?O_():(t=t.parent,Wn(t,!1)),e.firstCreatePass&&(Pa(e,t),Od(t)&&e.queries.elementEnd(t)),aM}var Sv=(t,e,n,r)=>(Mt(!0),Zd(e[K],""));function cM(t,e,n,r){let i,s=e[at],o=!s||es()||os(n);if(Mt(o),o)return Zd(e[K],"");let a=za(s,t,e,n),c=LS(s,r);return La(s,r,a),i=qa(c,a),i}function lM(){Sv=cM}function xG(){return F()}function uM(t,e,n){let r=F(),i=Ra();if(ft(r,i,e)){let s=oe(),o=xa(),a=P_(s.data),c=r0(a,o,r);of(s,o,r,t,e,c,n,!0)}return uM}var On=void 0;function dM(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var fM=["en",[["a","p"],["AM","PM"],On],[["AM","PM"],On,On],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],On,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],On,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",On,"{1} 'at' {0}",On],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",dM],lu={};function _f(t){let e=hM(t),n=Vm(e);if(n)return n;let r=e.split("-")[0];if(n=Vm(r),n)return n;if(r==="en")return fM;throw new C(701,!1)}function Vm(t){return t in lu||(lu[t]=ke.ng&&ke.ng.common&&ke.ng.common.locales&&ke.ng.common.locales[t]),lu[t]}var Gr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Gr||{});function hM(t){return t.toLowerCase().replace(/_/g,"-")}var Da="en-US";var pM=Da;function gM(t){typeof t=="string"&&(pM=t.toLowerCase().replace(/_/g,"-"))}function Av(t,e,n){let r=t[K];switch(n){case Node.COMMENT_NODE:return Zd(r,e);case Node.TEXT_NODE:return Qd(r,e);case Node.ELEMENT_NODE:return Ba(r,e,null)}}var mM=(t,e,n,r)=>(Mt(!0),Av(t,n,r));function _M(t,e,n,r){return Mt(!0),Av(t,n,r)}function yM(){mM=_M}function qn(t,e,n,r){let i=F(),s=oe(),o=Ce();return EM(s,i,i[K],o,t,e,r),qn}function vM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[$i],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function EM(t,e,n,r,i,s,o){let a=Ma(r),l=t.firstCreatePass&&qy(t),u=e[ct],d=zy(e),f=!0;if(r.type&3||o){let _=Le(r,e),g=o?o(_):_,v=d.length,N=o?w=>o(ut(w[r.index])):r.index,T=null;if(!o&&a&&(T=vM(t,e,i,r.index)),T!==null){let w=T.__ngLastListenerFn__||T;w.__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,f=!1}else{s=jm(r,e,u,s,!1);let w=n.listen(g,i,s);d.push(s,w),l&&l.push(i,N,v,v+1)}}else s=jm(r,e,u,s,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let _=p.length;if(_)for(let g=0;g<_;g+=2){let v=p[g],N=p[g+1],ee=e[v][N].subscribe(s),J=d.length;d.push(s,ee),l&&l.push(i,r.index,J,-(J+1))}}}function Um(t,e,n,r){let i=B(null);try{return Dt(6,e,n),n(r)!==!1}catch(s){return Yy(t,s),!1}finally{Dt(7,e,n),B(i)}}function jm(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?hn(t.index,e):e;uf(a);let c=Um(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=Um(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function OG(t=1){return qT(t)}function IM(t,e,n){return Nv(t,"",e,"",n),IM}function Nv(t,e,n,r,i){let s=F(),o=gv(s,e,n,r);if(o!==Ke){let a=oe(),c=xa();of(a,c,s,t,o,s[K],i,!1)}return Nv}function PG(t,e,n,r){fN(t,e,n,r)}function kG(t){let e=F(),n=oe(),r=k_();Vd(r+1);let i=gf(n,r);if(t.dirty&&AT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=mN(e,r);t.reset(s,hS),t.notifyOnChanges()}return!0}return!1}function FG(){return uN(F(),k_())}function wM(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function LG(t){let e=jT();return A_(e,he+t)}function VG(t,e=""){let n=F(),r=oe(),i=t+he,s=r.firstCreatePass?is(r,i,1,e,null):r.data[i],o=Mv(r,n,s,e,t);n[i]=o,Oa()&&$a(r,n,o,s),Wn(s,!1)}var Mv=(t,e,n,r,i)=>(Mt(!0),Qd(e[K],r));function DM(t,e,n,r,i){let s=e[at],o=!s||es()||os(n)||Va(s,i);return Mt(o),o?Qd(e[K],r):za(s,t,e,n)}function CM(){Mv=DM}function bM(t){return Rv("",t,""),bM}function Rv(t,e,n){let r=F(),i=gv(r,t,e,n);return i!==Ke&&Ky(r,pn(),i),Rv}function TM(t,e,n,r,i){let s=F(),o=ON(s,t,e,n,r,i);return o!==Ke&&Ky(s,pn(),o),TM}function SM(t,e,n){let r=oe();if(r.firstCreatePass){let i=Wt(t);dd(n,r.data,r.blueprint,i,!0),dd(e,r.data,r.blueprint,i,!1)}}function dd(t,e,n,r,i){if(t=Ie(t),Array.isArray(t))for(let s=0;s<t.length;s++)dd(t[s],e,n,r,i);else{let s=oe(),o=F(),a=Ce(),c=Pr(t)?t:Ie(t.provide),l=m_(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Pr(t)||!t.multi){let h=new Un(l,i,k),p=du(c,e,i?u:u+f,d);p===-1?(bu(da(a,o),s,c),uu(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{let h=du(c,e,u+f,d),p=du(c,e,u,u+f),_=h>=0&&n[h],g=p>=0&&n[p];if(i&&!g||!i&&!_){bu(da(a,o),s,c);let v=MM(i?NM:AM,n.length,i,r,l);!i&&g&&(n[p].providerFactory=v),uu(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else{let v=xv(n[i?p:h],l,!i&&r);uu(s,t,h>-1?h:p,v)}!i&&r&&g&&n[p].componentProviders++}}}function uu(t,e,n,r){let i=Pr(e),s=hT(e);if(i||s){let c=(s?Ie(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function xv(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function du(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function AM(t,e,n,r){return fd(this.multi,[])}function NM(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=jn(n,n[x],this.providerFactory.index,r);s=a.slice(0,o),fd(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],fd(i,s);return s}function fd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function MM(t,e,n,r,i){let s=new Un(t,n,k);return s.multi=[],s.index=e,s.componentProviders=0,xv(s,i,r&&!n),s}function Yn(t,e=[]){return n=>{n.providersResolver=(r,i)=>SM(r,i?i(t):t,e)}}var RM=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=h_(!1,r.type),s=i.length>0?bN([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(S(Tt))});let t=e;return t})();function UG(t){gn("NgStandalone"),t.getStandaloneInjector=e=>e.get(RM).getOrCreateStandaloneInjector(t)}function jG(t,e,n,r){return xM(F(),$r(),t,e,n,r)}function BG(t,e,n,r,i){return Ov(F(),$r(),t,e,n,r,i)}function $G(t,e,n,r,i,s){return OM(F(),$r(),t,e,n,r,i,s)}function HG(t,e,n,r,i,s,o){return PM(F(),$r(),t,e,n,r,i,s,o)}function WG(t,e,n,r,i,s,o,a){let c=$r()+t,l=F(),u=dv(l,c,n,r,i,s);return ft(l,c+4,o)||u?ss(l,c+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):SN(l,c+5)}function Qa(t,e){let n=t[e];return n===Ke?void 0:n}function xM(t,e,n,r,i,s){let o=e+n;return ft(t,o,i)?ss(t,o+1,s?r.call(s,i):r(i)):Qa(t,o+1)}function Ov(t,e,n,r,i,s,o){let a=e+n;return Yi(t,a,i,s)?ss(t,a+2,o?r.call(o,i,s):r(i,s)):Qa(t,a+2)}function OM(t,e,n,r,i,s,o,a){let c=e+n;return AN(t,c,i,s,o)?ss(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):Qa(t,c+3)}function PM(t,e,n,r,i,s,o,a,c){let l=e+n;return dv(t,l,i,s,o,a)?ss(t,l+4,c?r.call(c,i,s,o,a):r(i,s,o,a)):Qa(t,l+4)}function GG(t,e){let n=oe(),r,i=t+he;n.firstCreatePass?(r=kM(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Fn(r.type,!0)),o,a=Ne(k);try{let c=ua(!1),l=s();return ua(c),wM(n,F(),i,l),l}finally{Ne(a)}}function kM(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function zG(t,e,n,r){let i=t+he,s=F(),o=A_(s,i);return FM(s,i)?Ov(s,$r(),e,o.transform,n,r,o):o.transform(n,r)}function FM(t,e){return t[x].data[e].pure}var fn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},yf=new fn("17.3.10"),Pv=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var kv=new I("");function as(t){return!!t&&typeof t.then=="function"}function Fv(t){return!!t&&typeof t.subscribe=="function"}var LM=new I(""),Lv=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=E(LM,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(as(o))r.push(o);else if(Fv(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Za=new I("");function VM(){Dg(()=>{throw new C(600,!1)})}function UM(t){return t.isBoundToModule}function jM(t,e,n){try{let r=n();return as(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var zr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(ey),this.afterRenderEffectManager=E(hf),this.externalTestViews=new Set,this.beforeRender=new rn,this.afterTick=new rn,this.componentTypes=[],this.components=[],this.isStable=E(Wr).hasPendingTasks.pipe(ge(r=>!r)),this._injector=E(Tt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ya;if(!this._injector.get(Lv).done){let h=!s&&aT(r),p=!1;throw new C(405,p)}let a;s?a=r:a=this._injector.get(Ya).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=UM(a)?void 0:this._injector.get(dn),l=i||a.selector,u=a.create(qe.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(kv,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),fu(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new C(101,!1);let i=B(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,B(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===Zy)throw new C(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)BM(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>hd(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>hd(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;fu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Za,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>fu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ko;function vf(t){Ko??=new WeakMap;let e=Ko.get(t);if(e)return e;let n=t.isStable.pipe(ql(r=>r)).toPromise().then(()=>{});return Ko.set(t,n),t.onDestroy(()=>Ko?.delete(t)),n}function BM(t,e,n){!e&&!hd(t)||$M(t,n,e)}function hd(t){return kd(t)}function $M(t,e,n){let r;n?(r=0,t[b]|=1024):t[b]&64?r=0:r=1,Jy(t,e,r)}var pd=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},qG=(()=>{let e=class e{compileModuleSync(r){return new ad(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=u_(r),o=Sy(s.declarations).reduce((a,c)=>{let l=ln(c);return l&&a.push(new Vr(l)),a},[]);return new pd(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var HM=(()=>{let e=class e{constructor(){this.zone=E(Q),this.applicationRef=E(zr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WM(t){return[{provide:Q,useFactory:t},{provide:Or,multi:!0,useFactory:()=>{let e=E(HM,{optional:!0});return()=>e.initialize()}},{provide:Or,multi:!0,useFactory:()=>{let e=E(YM);return()=>{e.initialize()}}},{provide:ey,useFactory:GM}]}function GM(){let t=E(Q),e=E(dt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function zM(t){let e=WM(()=>new Q(qM(t)));return At([[],e])}function qM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var YM=(()=>{let e=class e{constructor(){this.subscription=new se,this.initialized=!1,this.zone=E(Q),this.pendingTasks=E(Wr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Q.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Q.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KM(){return typeof $localize<"u"&&$localize.locale||Da}var Ja=new I("",{providedIn:"root",factory:()=>E(Ja,L.Optional|L.SkipSelf)||KM()});var Vv=new I("");var na=null;function QM(t=[],e){return qe.create({name:e,providers:[{provide:Aa,useValue:"platform"},{provide:Vv,useValue:new Set([()=>na=null])},...t]})}function ZM(t=[]){if(na)return na;let e=QM(t);return na=e,VM(),JM(e),e}function JM(t){t.get($d,null)?.forEach(n=>n())}function Ef(){return!1}var Xa=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=XM;let t=e;return t})();function XM(t){return eR(Ce(),F(),(t&16)===16)}function eR(t,e,n){if(Xi(t)&&!n){let r=hn(t.index,e);return new Bn(r,r)}else if(t.type&47){let r=e[Ge];return new Bn(r,e)}return null}var gd=class{constructor(){}supports(e){return uv(e)}create(e){return new md(e)}},tR=(t,e)=>e,md=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||tR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Bm(r,i,s)?n:r,a=Bm(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}let d=o.previousIndex;s[d]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!uv(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,TN(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new _d(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ca),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ca),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},_d=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},yd=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ca=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new yd,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Bm(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var vd=class{constructor(){}supports(e){return e instanceof Map||mf(e)}create(){return new Ed}},Ed=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||mf(e)))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Id(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Id=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function $m(){return new If([new gd])}var If=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||$m()),deps:[[e,new e_,new ze]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new C(901,!1)}};e.\u0275prov=A({token:e,providedIn:"root",factory:$m});let t=e;return t})();function Hm(){return new wf([new vd])}var wf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Hm()),deps:[[e,new e_,new ze]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new C(901,!1)}};e.\u0275prov=A({token:e,providedIn:"root",factory:Hm});let t=e;return t})();function Uv(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=ZM(r),s=[zM(),...n||[]],a=new Ia({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Q);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(dt,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:h=>{l.handleError(h)}})});let d=()=>a.destroy(),f=i.get(Vv);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),jM(l,c,()=>{let h=a.get(Lv);return h.runInitializers(),h.donePromise.then(()=>{let p=a.get(Ja,Da);gM(p||Da);let _=a.get(zr);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}var Wm=!1,nR=!1;function rR(){Wm||(Wm=!0,OS(),iM(),CM(),lM(),xN(),sN(),O0(),LA(),yM())}function iR(t,e){return vf(t)}function jv(){return At([{provide:Ho,useFactory:()=>{let t=!0;return Li()&&(t=!!E(Gn,{optional:!0})?.get(dy,null)),t&&gn("NgHydration"),t}},{provide:Or,useValue:()=>{nR=!!E(VS,{optional:!0}),Li()&&E(Ho)&&(sR(),rR())},multi:!0},{provide:gy,useFactory:()=>Li()&&E(Ho)},{provide:Za,useFactory:()=>{if(Li()&&E(Ho)){let t=E(zr),e=E(qe);return()=>{iR(t,e).then(()=>{C0(t)})}}return()=>{}},multi:!0}])}function sR(){let t=ns(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===RS){e=n;break}if(!e)throw new C(-507,!1)}function Bv(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var oR=new I("",{providedIn:"root",factory:()=>E(aR)}),aR=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>new wd});let t=e;return t})(),wd=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=E(Wr),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Dd=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=Sg(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(dt,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function cR(t,e){gn("NgSignals"),!e?.injector&&y_(cR);let n=e?.injector??E(qe),r=e?.manualCleanup!==!0?n.get(ka):null,i=new Dd(n.get(oR),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(Xa,null,{optional:!0});return!s||!(s._lView[b]&8)?i.watcher.notify():(s._lView[Zo]??=[]).push(i.watcher.notify),i}function YG(t){let e=ln(t);if(!e)return null;let n=new Vr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Yv=null;function en(){return Yv}function Kv(t){Yv??=t}var ec=class{};var Te=new I(""),Mf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>E(lR),providedIn:"platform"});let t=e;return t})(),gz=new I(""),lR=(()=>{let e=class e extends Mf{constructor(){super(),this._doc=E(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return en().getBaseHref(this._doc)}onPopState(r){let i=en().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=en().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Rf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function $v(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Jt(t){return t&&t[0]!=="?"?"?"+t:t}var nc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:()=>E(uR),providedIn:"root"});let t=e;return t})(),Qv=new I(""),uR=(()=>{let e=class e extends nc{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Rf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Jt(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Jt(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Jt(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(Mf),S(Qv,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mz=(()=>{let e=class e extends nc{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Rf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Jt(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Jt(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(Mf),S(Qv,8))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),dR=(()=>{let e=class e{constructor(r){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=pR($v(Hv(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Jt(i))}normalize(r){return e.stripTrailingSlash(hR(this._basePath,Hv(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Jt(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Jt(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Jt,e.joinWithSlash=Rf,e.stripTrailingSlash=$v,e.\u0275fac=function(i){return new(i||e)(S(nc))},e.\u0275prov=A({token:e,factory:()=>fR(),providedIn:"root"});let t=e;return t})();function fR(){return new dR(S(nc))}function hR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Hv(t){return t.replace(/\/index.html$/,"")}function pR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Zv=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Zv||{});var Xt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ls(t,e){let n=_f(t),r=n[Gr.NumberSymbols][e];if(typeof r>"u"){if(e===Xt.CurrencyDecimal)return n[Gr.NumberSymbols][Xt.Decimal];if(e===Xt.CurrencyGroup)return n[Gr.NumberSymbols][Xt.Group]}return r}function gR(t,e){return _f(t)[Gr.NumberFormats][e]}var mR=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Wv=22,tc=".",us="0",_R=";",yR=",",Df="#";function vR(t,e,n,r,i,s,o=!1){let a="",c=!1;if(!isFinite(t))a=ls(n,Xt.Infinity);else{let l=DR(t);o&&(l=wR(l));let u=e.minInt,d=e.minFrac,f=e.maxFrac;if(s){let N=s.match(mR);if(N===null)throw new Error(`${s} is not a valid digit info`);let T=N[1],w=N[3],ee=N[5];T!=null&&(u=Cf(T)),w!=null&&(d=Cf(w)),ee!=null?f=Cf(ee):w!=null&&d>f&&(f=d)}CR(l,d,f);let h=l.digits,p=l.integerLen,_=l.exponent,g=[];for(c=h.every(N=>!N);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?g=h.splice(p,h.length):(g=h,h=[0]);let v=[];for(h.length>=e.lgSize&&v.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)v.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&v.unshift(h.join("")),a=v.join(ls(n,r)),g.length&&(a+=ls(n,i)+g.join("")),_&&(a+=ls(n,Xt.Exponential)+"+"+_)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function ER(t,e,n){let r=gR(e,Zv.Decimal),i=IR(r,ls(e,Xt.MinusSign));return vR(t,i,e,Xt.Group,Xt.Decimal,n)}function IR(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(_R),i=r[0],s=r[1],o=i.indexOf(tc)!==-1?i.split(tc):[i.substring(0,i.lastIndexOf(us)+1),i.substring(i.lastIndexOf(us)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(Df));for(let u=0;u<c.length;u++){let d=c.charAt(u);d===us?n.minFrac=n.maxFrac=u+1:d===Df?n.maxFrac=u+1:n.posSuf+=d}let l=a.split(yR);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(Df);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function wR(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function DR(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(tc))>-1&&(e=e.replace(tc,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===us;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===us;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>Wv&&(r=r.splice(0,Wv-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function CR(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,l=e+t.integerLen,u=r.reduceRight(function(d,f,h,p){return f=f+d,p[h]=f<10?f:f-10,c&&(p[h]===0&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}function Cf(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function rc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var bf=/\s+/,Gv=[],_z=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Gv,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(bf):Gv}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(bf):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(bf).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(k(Ve),k(Zt))},e.\u0275dir=ie({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Fe.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Tf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yz=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Tf(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,a),zv(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);zv(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(k(zn),k($n),k(If))},e.\u0275dir=ie({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function zv(t,e){t.context.$implicit=e.item}var vz=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Sf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){qv("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){qv("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(k(zn),k($n))},e.\u0275dir=ie({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Sf=class{constructor(){this.$implicit=null,this.ngIf=null}};function qv(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${De(e)}'.`)}var Ez=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:St.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(k(Ve),k(wf),k(Zt))},e.\u0275dir=ie({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})(),Iz=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(k(zn))},e.\u0275dir=ie({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Br]});let t=e;return t})();function bR(t,e){return new C(2100,!1)}var wz=(()=>{let e=class e{constructor(r){this._locale=r}transform(r,i,s){if(!TR(r))return null;s||=this._locale;try{let o=SR(r);return ER(o,s,i)}catch(o){throw bR(e,o.message)}}};e.\u0275fac=function(i){return new(i||e)(k(Ja,16))},e.\u0275pipe=a_({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function TR(t){return!(t==null||t===""||t!==t)}function SR(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var AR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yt({type:e}),e.\u0275inj=qt({});let t=e;return t})(),xf="browser",NR="server";function MR(t){return t===xf}function ds(t){return t===NR}var Dz=(()=>{let e=class e{};e.\u0275prov=A({token:e,providedIn:"root",factory:()=>MR(E(be))?new Af(E(Te),window):new Nf});let t=e;return t})(),Af=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=RR(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function RR(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Nf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},qr=class{};var hs=class{},oc=class{},_n=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Pf=class{encodeKey(e){return Jv(e)}encodeValue(e){return Jv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function PR(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var kR=/%(\d[a-f0-9])/gi,FR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Jv(t){return encodeURIComponent(t).replace(kR,(e,n)=>FR[n]??e)}function ic(t){return`${t}`}var mn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Pf,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=PR(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(ic):[ic(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ic(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(ic(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var kf=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function LR(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Xv(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function eE(t){return typeof Blob<"u"&&t instanceof Blob}function tE(t){return typeof FormData<"u"&&t instanceof FormData}function VR(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var fs=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(LR(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new _n,this.context??=new kf,!this.params)this.params=new mn,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Xv(this.body)||eE(this.body)||tE(this.body)||VR(this.body)?this.body:this.body instanceof mn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tE(this.body)?null:eE(this.body)?this.body.type||null:Xv(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof mn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new t(n,r,o,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:s})}},Yr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Yr||{}),ps=class{constructor(e,n=cc.Ok,r="OK"){this.headers=e.headers||new _n,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ff=class t extends ps{constructor(e={}){super(e),this.type=Yr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Kr=class t extends ps{constructor(e={}){super(e),this.type=Yr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ac=class extends ps{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},cc=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(cc||{});function Of(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var UR=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof fs)o=r;else{let l;s.headers instanceof _n?l=s.headers:l=new _n(s.headers);let u;s.params&&(s.params instanceof mn?u=s.params:u=new mn({fromObject:s.params})),o=new fs(r,i,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=Oi(o).pipe(Wl(l=>this.handler.handle(l)));if(r instanceof fs||s.observe==="events")return a;let c=a.pipe(jt(l=>l instanceof Kr));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(ge(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ge(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ge(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(ge(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new mn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Of(s,i))}post(r,i,s={}){return this.request("POST",r,Of(s,i))}put(r,i,s={}){return this.request("PUT",r,Of(s,i))}};e.\u0275fac=function(i){return new(i||e)(S(hs))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function fE(t,e){return e(t)}function jR(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function BR(t,e,n){return(r,i)=>Md(n,()=>e(r,s=>t(s,i)))}var $R=new I(""),Lf=new I(""),hE=new I(""),HR=new I("");function WR(){let t=null;return(e,n)=>{t===null&&(t=(E($R,{optional:!0})??[]).reduceRight(jR,fE));let r=E(Wr),i=r.add();return t(e,n).pipe(Bo(()=>r.remove(i)))}}var nE=(()=>{let e=class e extends hs{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=E(Wr);let s=E(HR,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Lf),...this.injector.get(hE,[])]));this.chain=s.reduceRight((o,a)=>BR(o,a,this.injector),fE)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Bo(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(S(oc),S(Tt))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();var GR=/^\)\]\}',?\n/;function zR(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var rE=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new C(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ae(i.\u0275loadImpl()):Oi(null)).pipe(Kl(()=>new O(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((g,v)=>a.setRequestHeader(g,v.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let g=r.detectContentTypeHeader();g!==null&&a.setRequestHeader("Content-Type",g)}if(r.responseType){let g=r.responseType.toLowerCase();a.responseType=g!=="json"?g:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let g=a.statusText||"OK",v=new _n(a.getAllResponseHeaders()),N=zR(a)||r.url;return l=new Ff({headers:v,status:a.status,statusText:g,url:N}),l},d=()=>{let{headers:g,status:v,statusText:N,url:T}=u(),w=null;v!==cc.NoContent&&(w=typeof a.response>"u"?a.responseText:a.response),v===0&&(v=w?cc.Ok:0);let ee=v>=200&&v<300;if(r.responseType==="json"&&typeof w=="string"){let J=w;w=w.replace(GR,"");try{w=w!==""?JSON.parse(w):null}catch(Ee){w=J,ee&&(ee=!1,w={error:Ee,text:w})}}ee?(o.next(new Kr({body:w,headers:g,status:v,statusText:N,url:T||void 0})),o.complete()):o.error(new ac({error:w,headers:g,status:v,statusText:N,url:T||void 0}))},f=g=>{let{url:v}=u(),N=new ac({error:g,status:a.status||0,statusText:a.statusText||"Unknown Error",url:v||void 0});o.error(N)},h=!1,p=g=>{h||(o.next(u()),h=!0);let v={type:Yr.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),r.responseType==="text"&&a.responseText&&(v.partialText=a.responseText),o.next(v)},_=g=>{let v={type:Yr.UploadProgress,loaded:g.loaded};g.lengthComputable&&(v.total=g.total),o.next(v)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),c!==null&&a.upload&&a.upload.addEventListener("progress",_)),a.send(c),o.next({type:Yr.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),c!==null&&a.upload&&a.upload.removeEventListener("progress",_)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(S(qr))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),pE=new I(""),qR="XSRF-TOKEN",YR=new I("",{providedIn:"root",factory:()=>qR}),KR="X-XSRF-TOKEN",QR=new I("",{providedIn:"root",factory:()=>KR}),lc=class{},ZR=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=rc(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(S(Te),S(be),S(YR))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function JR(t,e){let n=t.url.toLowerCase();if(!E(pE)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=E(lc).getToken(),i=E(QR);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var gE=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(gE||{});function XR(t,e){return{\u0275kind:t,\u0275providers:e}}function ex(...t){let e=[UR,rE,nE,{provide:hs,useExisting:nE},{provide:oc,useExisting:rE},{provide:Lf,useValue:JR,multi:!0},{provide:pE,useValue:!0},{provide:lc,useClass:ZR}];for(let n of t)e.push(...n.\u0275providers);return At(e)}var iE=new I("");function tx(){return XR(gE.LegacyInterceptors,[{provide:iE,useFactory:WR},{provide:Lf,useExisting:iE,multi:!0}])}var Pz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yt({type:e}),e.\u0275inj=qt({providers:[ex(tx())]});let t=e;return t})();var sE="b",oE="h",aE="s",cE="st",lE="u",uE="rt",sc=new I(""),nx=["GET","HEAD"];function rx(t,e){let d=E(sc),{isCacheActive:n}=d,r=pg(d,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!nx.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=E(Gn),a=sx(t),c=o.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),c){let{[sE]:f,[uE]:h,[oE]:p,[aE]:_,[cE]:g,[lE]:v}=c,N=f;switch(h){case"arraybuffer":N=new TextEncoder().encode(f).buffer;break;case"blob":N=new Blob([f]);break}let T=new _n(p);return Oi(new Kr({body:N,headers:T,status:_,statusText:g,url:v}))}let u=ds(E(be));return e(t).pipe(Fi(f=>{f instanceof Kr&&u&&o.set(a,{[sE]:f.body,[oE]:ix(f.headers,l),[aE]:f.status,[cE]:f.statusText,[lE]:f.url||"",[uE]:t.responseType})}))}function ix(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function dE(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function sx(t){let{params:e,method:n,responseType:r,url:i}=t,s=dE(e),o=t.serializeBody();o instanceof URLSearchParams?o=dE(o):typeof o!="string"&&(o="");let a=[n,r,i,o,s].join("|"),c=ox(a);return c}function ox(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function mE(t){return[{provide:sc,useFactory:()=>(gn("NgHttpTransferCache"),te({isCacheActive:!0},t))},{provide:hE,useValue:rx,multi:!0,deps:[Gn,sc]},{provide:Za,multi:!0,useFactory:()=>{let e=E(zr),n=E(sc);return()=>{vf(e).then(()=>{n.isCacheActive=!1})}}}]}var jf=class extends ec{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Bf=class t extends jf{static makeCurrent(){Kv(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ax();return n==null?null:cx(n)}resetBaseElement(){gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rc(document.cookie,e)}},gs=null;function ax(){return gs=gs||document.querySelector("base"),gs?gs.getAttribute("href"):null}function cx(t){return new URL(t,document.baseURI).pathname}var lx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),$f=new I(""),EE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new C(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(S($f),S(Q))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),uc=class{constructor(e){this._doc=e}},Vf="ng-app-id",IE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ds(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Vf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Vf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Vf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(S(Te),S(Fa),S(Hd,8),S(be))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),Uf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gf=/%COMP%/g,wE="%COMP%",ux=`_nghost-${wE}`,dx=`_ngcontent-${wE}`,fx=!0,hx=new I("",{providedIn:"root",factory:()=>fx});function px(t){return dx.replace(Gf,t)}function gx(t){return ux.replace(Gf,t)}function DE(t,e){return e.map(n=>n.replace(Gf,t))}var _E=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ds(c),this.defaultRenderer=new ms(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===bt.ShadowDom&&(i=ae(te({},i),{encapsulation:bt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof dc?s.applyToHost(r):s instanceof _s&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case bt.Emulated:o=new dc(l,u,i,this.appId,d,a,c,f);break;case bt.ShadowDom:return new Hf(l,u,r,i,a,c,this.nonce,f);default:o=new _s(l,u,i,d,a,c,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(S(EE),S(IE),S(Fa),S(hx),S(Te),S(be),S(Q),S(Hd))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),ms=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Uf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Uf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Uf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(St.DashCase|St.Important)?e.style.setProperty(n,r,i&St.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&St.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=en().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function yE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Hf=class extends ms{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=DE(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_s=class extends ms{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?DE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},dc=class extends _s{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=px(l),this.hostAttr=gx(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},mx=(()=>{let e=class e extends uc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(S(Te))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})(),vE=["alt","control","meta","shift"],_x={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},vx=(()=>{let e=class e extends uc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>en().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),vE.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=_x[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),vE.forEach(a=>{if(a!==s){let c=yx[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(S(Te))},e.\u0275prov=A({token:e,factory:e.\u0275fac});let t=e;return t})();function Jz(t,e){return Uv(te({rootComponent:t},Ex(e)))}function Ex(t){return{appProviders:[...bx,...t?.providers??[]],platformProviders:Cx}}function Ix(){Bf.makeCurrent()}function wx(){return new dt}function Dx(){return ay(document),document}var Cx=[{provide:be,useValue:xf},{provide:$d,useValue:Ix,multi:!0},{provide:Te,useFactory:Dx,deps:[]}];var bx=[{provide:Aa,useValue:"root"},{provide:dt,useFactory:wx,deps:[]},{provide:$f,useClass:mx,multi:!0,deps:[Te,Q,be]},{provide:$f,useClass:vx,multi:!0,deps:[Te]},_E,IE,EE,{provide:qi,useExisting:_E},{provide:qr,useClass:lx,deps:[]},[]];var Xz=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(S(Te))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Tx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=S(Sx),s},providedIn:"root"});let t=e;return t})(),Sx=(()=>{let e=class e extends Tx{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case pt.NONE:return i;case pt.HTML:return Kt(i,"HTML")?Ye(i):qd(this._doc,String(i)).toString();case pt.STYLE:return Kt(i,"Style")?Ye(i):i;case pt.SCRIPT:if(Kt(i,"Script"))return Ye(i);throw new C(5200,!1);case pt.URL:return Kt(i,"URL")?Ye(i):ja(String(i));case pt.RESOURCE_URL:if(Kt(i,"ResourceURL"))return Ye(i);throw new C(5201,!1);default:throw new C(5202,!1)}}bypassSecurityTrustHtml(r){return _y(r)}bypassSecurityTrustStyle(r){return yy(r)}bypassSecurityTrustScript(r){return vy(r)}bypassSecurityTrustUrl(r){return Ey(r)}bypassSecurityTrustResourceUrl(r){return Iy(r)}};e.\u0275fac=function(i){return new(i||e)(S(Te))},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wf=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(Wf||{});function eq(...t){let e=[],n=new Set,r=n.has(Wf.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return At([[],jv(),n.has(Wf.NoHttpTransferCache)||r?[]:mE({}),e])}var PE=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(k(Zt),k(Ve))},e.\u0275dir=ie({type:e});let t=e;return t})(),Ec=(()=>{let e=class e extends PE{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ts(e)))(s||e)}})(),e.\u0275dir=ie({type:e,features:[gt]});let t=e;return t})(),Is=new I("");var Ax={provide:Is,useExisting:zt(()=>kE),multi:!0};function Nx(){let t=en()?en().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Mx=new I(""),kE=(()=>{let e=class e extends PE{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Nx())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(k(Zt),k(Ve),k(Mx,8))},e.\u0275dir=ie({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&qn("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Yn([Ax]),gt]});let t=e;return t})();function yn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function FE(t){return t!=null&&typeof t.length=="number"}var LE=new I(""),VE=new I(""),Rx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,CE=class{static min(e){return xx(e)}static max(e){return Ox(e)}static required(e){return Px(e)}static requiredTrue(e){return kx(e)}static email(e){return Fx(e)}static minLength(e){return Lx(e)}static maxLength(e){return Vx(e)}static pattern(e){return Ux(e)}static nullValidator(e){return UE(e)}static compose(e){return GE(e)}static composeAsync(e){return qE(e)}};function xx(t){return e=>{if(yn(e.value)||yn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Ox(t){return e=>{if(yn(e.value)||yn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Px(t){return yn(t.value)?{required:!0}:null}function kx(t){return t.value===!0?null:{required:!0}}function Fx(t){return yn(t.value)||Rx.test(t.value)?null:{email:!0}}function Lx(t){return e=>yn(e.value)||!FE(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Vx(t){return e=>FE(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Ux(t){if(!t)return UE;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(yn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function UE(t){return null}function jE(t){return t!=null}function BE(t){return as(t)?Ae(t):t}function $E(t){let e={};return t.forEach(n=>{e=n!=null?te(te({},e),n):e}),Object.keys(e).length===0?null:e}function HE(t,e){return e.map(n=>n(t))}function jx(t){return!t.validate}function WE(t){return t.map(e=>jx(e)?e:n=>e.validate(n))}function GE(t){if(!t)return null;let e=t.filter(jE);return e.length==0?null:function(n){return $E(HE(n,e))}}function zE(t){return t!=null?GE(WE(t)):null}function qE(t){if(!t)return null;let e=t.filter(jE);return e.length==0?null:function(n){let r=HE(n,e).map(BE);return $l(r).pipe(ge($E))}}function YE(t){return t!=null?qE(WE(t)):null}function bE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function KE(t){return t._rawValidators}function QE(t){return t._rawAsyncValidators}function zf(t){return t?Array.isArray(t)?t:[t]:[]}function pc(t,e){return Array.isArray(t)?t.includes(e):t===e}function TE(t,e){let n=zf(e);return zf(t).forEach(i=>{pc(n,i)||n.push(i)}),n}function SE(t,e){return zf(e).filter(n=>!pc(t,n))}var gc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Zr=class extends gc{get formDirective(){return null}get path(){return null}},Es=class extends gc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},mc=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Bx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},yq=ae(te({},Bx),{"[class.ng-submitted]":"isSubmitted"}),vq=(()=>{let e=class e extends mc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(k(Es,2))},e.\u0275dir=ie({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Ka("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[gt]});let t=e;return t})(),Eq=(()=>{let e=class e extends mc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(k(Zr,10))},e.\u0275dir=ie({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Ka("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[gt]});let t=e;return t})();var ys="VALID",fc="INVALID",Qr="PENDING",vs="DISABLED";function Kf(t){return(Ic(t)?t.validators:t)||null}function $x(t){return Array.isArray(t)?zE(t):t||null}function Qf(t,e){return(Ic(e)?e.asyncValidators:t)||null}function Hx(t){return Array.isArray(t)?YE(t):t||null}function Ic(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function ZE(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")}function JE(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new C(1002,"")})}var Jr=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ys}get invalid(){return this.status===fc}get pending(){return this.status==Qr}get disabled(){return this.status===vs}get enabled(){return this.status!==vs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(SE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(SE(e,this._rawAsyncValidators))}hasValidator(e){return pc(this._rawValidators,e)}hasAsyncValidator(e){return pc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qr,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=vs,this.errors=null,this._forEachChild(r=>{r.disable(ae(te({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(te({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ys,this._forEachChild(r=>{r.enable(ae(te({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(te({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ys||this.status===Qr)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vs:ys}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qr,this._hasOwnPendingAsyncValidator=!0;let n=BE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?vs:this.errors?fc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qr)?Qr:this._anyControlsHaveStatus(fc)?fc:ys}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ic(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$x(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Hx(this._rawAsyncValidators)}},_c=class extends Jr{constructor(e,n,r){super(Kf(n),Qf(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){JE(this,!0,e),Object.keys(e).forEach(r=>{ZE(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var qf=class extends _c{};var Zf=new I("CallSetDisabledState",{providedIn:"root",factory:()=>wc}),wc="always";function Wx(t,e){return[...e.path,t]}function AE(t,e,n=wc){Jf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),zx(t,e),Yx(t,e),qx(t,e),Gx(t,e)}function NE(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),vc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function yc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Gx(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Jf(t,e){let n=KE(t);e.validator!==null?t.setValidators(bE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=QE(t);e.asyncValidator!==null?t.setAsyncValidators(bE(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();yc(e._rawValidators,i),yc(e._rawAsyncValidators,i)}function vc(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=KE(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=QE(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return yc(e._rawValidators,r),yc(e._rawAsyncValidators,r),n}function zx(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&XE(t,e)})}function qx(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&XE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function XE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Yx(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Kx(t,e){t==null,Jf(t,e)}function Qx(t,e){return vc(t,e)}function Zx(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Jx(t){return Object.getPrototypeOf(t.constructor)===Ec}function Xx(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function eO(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===kE?n=s:Jx(s)?r=s:i=s}),i||r||n||null}function tO(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ME(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var hc=class extends Jr{constructor(e=null,n,r){super(Kf(n),Qf(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ic(n)&&(n.nonNullable||n.initialValueIsDefault)&&(RE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ME(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ME(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var nO=t=>t instanceof hc;var wq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ie({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),rO={provide:Is,useExisting:zt(()=>iO),multi:!0},iO=(()=>{let e=class e extends Ec{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ts(e)))(s||e)}})(),e.\u0275dir=ie({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&qn("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Yn([rO]),gt]});let t=e;return t})();var eI=new I("");var sO={provide:Zr,useExisting:zt(()=>oO)},oO=(()=>{let e=class e extends Zr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return AE(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){NE(r.control||null,r,!1),tO(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,Xx(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(NE(i||null,r),nO(s)&&(AE(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Kx(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Qx(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jf(this.form,this),this._oldForm&&vc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(k(LE,10),k(VE,10),k(Zf,8))},e.\u0275dir=ie({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&qn("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Fe.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yn([sO]),gt,Br]});let t=e;return t})();var aO={provide:Es,useExisting:zt(()=>cO)},cO=(()=>{let e=class e extends Es{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new We,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=eO(this,o)}ngOnChanges(r){this._added||this._setUpControl(),Zx(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Wx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(k(Zr,13),k(LE,10),k(VE,10),k(Is,10),k(eI,8))},e.\u0275dir=ie({type:e,selectors:[["","formControlName",""]],inputs:{name:[Fe.None,"formControlName","name"],isDisabled:[Fe.None,"disabled","isDisabled"],model:[Fe.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Yn([aO]),gt,Br]});let t=e;return t})(),lO={provide:Is,useExisting:zt(()=>nI),multi:!0};function tI(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function uO(t){return t.split(":")[0]}var nI=(()=>{let e=class e extends Ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=tI(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=uO(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ts(e)))(s||e)}})(),e.\u0275dir=ie({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&qn("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Yn([lO]),gt]});let t=e;return t})(),Dq=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(tI(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(k(Ve),k(Zt),k(nI,9))},e.\u0275dir=ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),dO={provide:Is,useExisting:zt(()=>rI),multi:!0};function xE(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function fO(t){return t.split(":")[0]}var rI=(()=>{let e=class e extends Ec{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);s.push(u)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);s.push(u)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=fO(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ts(e)))(s||e)}})(),e.\u0275dir=ie({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&qn("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Yn([dO]),gt]});let t=e;return t})(),Cq=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(xE(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(xE(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(k(Ve),k(Zt),k(rI,9))},e.\u0275dir=ie({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var iI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yt({type:e}),e.\u0275inj=qt({});let t=e;return t})(),Yf=class extends Jr{constructor(e,n,r){super(Kf(n),Qf(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){JE(this,!1,e),e.forEach((r,i)=>{ZE(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function OE(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var bq=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return OE(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new _c(s,o)}record(r,i=null){let s=this._reduceControls(r);return new qf(s,i)}control(r,i,s){let o={};return this.useNonNullable?(OE(i)?o=i:(o.validators=i,o.asyncValidators=s),new hc(r,ae(te({},o),{nonNullable:!0}))):new hc(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Yf(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof hc)return r;if(r instanceof Jr)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Tq=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Zf,useValue:r.callSetDisabledState??wc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yt({type:e}),e.\u0275inj=qt({imports:[iI]});let t=e;return t})(),Sq=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:eI,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Zf,useValue:r.callSetDisabledState??wc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Yt({type:e}),e.\u0275inj=qt({imports:[iI]});let t=e;return t})();var vh={};bC(vh,{FirebaseError:()=>Ue,SDK_VERSION:()=>_t,_DEFAULT_ENTRY_NAME:()=>Pt,_addComponent:()=>ii,_addOrOverwriteComponent:()=>yh,_apps:()=>vn,_clearComponents:()=>fP,_components:()=>ri,_getProvider:()=>er,_isFirebaseApp:()=>RI,_isFirebaseServerApp:()=>tr,_registerComponent:()=>Be,_removeServiceInstance:()=>dP,_serverApps:()=>ni,deleteApp:()=>Rs,getApp:()=>En,getApps:()=>Ms,initializeApp:()=>si,initializeServerApp:()=>xI,onLog:()=>kc,registerVersion:()=>z,setLogLevel:()=>Fc});var eh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var y=function(t,e){if(!t)throw Qn(e)},Qn=function(t){return new Error("Firebase Database ("+eh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var oI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Cc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,o||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new th;let f=s<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},th=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},rh=function(t){let e=oI(t);return Cc.encodeByteArray(e,!0)},ws=function(t){return rh(t).replace(/\./g,"")},Ds=function(t){try{return Cc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aI(t){return ei(void 0,t)}function ei(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!pO(n)||(t[n]=ei(t[n],e[n]));return t}function pO(t){return t!=="__proto__"}function gO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mO=()=>gO().__FIREBASE_DEFAULTS__,_O=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ds(t[1]);return e&&JSON.parse(e)},ih=()=>{try{return mO()||_O()||yO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cI=t=>{var e,n;return(n=(e=ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bc=t=>{let e=cI(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sh=()=>{var t;return(t=ih())===null||t===void 0?void 0:t.config},lI=t=>{var e;return(e=ih())===null||e===void 0?void 0:e[`_${t}`]};var Kn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Tc(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ws(JSON.stringify(n)),ws(JSON.stringify(o)),""].join(".")}function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cs(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function Sc(){return typeof self=="object"&&self.self===self}function uI(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ac(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rt(){return eh.NODE_CLIENT===!0||eh.NODE_ADMIN===!0}function dI(){try{return typeof indexedDB=="object"}catch{return!1}}function fI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var vO="FirebaseError",Ue=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}},Qe=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?EO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ue(i,a,r)}};function EO(t,e){return t.replace(IO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var IO=/\{\$([^}]+)}/g;function Xr(t){return JSON.parse(t)}function ue(t){return JSON.stringify(t)}var hI=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Xr(Ds(s[0])||""),n=Xr(Ds(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var pI=function(t){let e=hI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},gI=function(t){let e=hI(t).claims;return typeof e=="object"&&e.admin===!0};function je(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Nc(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bs(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ts(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(sI(s)&&sI(o)){if(!Ts(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function sI(t){return t!==null&&typeof t=="object"}function Ss(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Dc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function Mc(t,e){let n=new nh(t,e);return n.subscribe.bind(n)}var nh=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xf),i.error===void 0&&(i.error=Xf),i.complete===void 0&&(i.complete=Xf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xf(){}function mI(t,e){return`${t} failed: ${e} argument `}var _I=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,y(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},As=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var Mq=4*60*60*1e3;function de(t){return t&&t._delegate?t._delegate:t}var me=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Jn="[DEFAULT]";var Rc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Kn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CO(e))try{this.getOrInitializeService({instanceIdentifier:Jn})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Jn){return this.instances.has(e)}getOptions(e=Jn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jn){return this.component?this.component.multipleInstances?e:Jn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function DO(t){return t===Jn?void 0:t}function CO(t){return t.instantiationMode==="EAGER"}var ti=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Rc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var oh=[],H=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(H||{}),yI={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},bO=H.INFO,TO={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},SO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=TO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xt=class{constructor(e){this.name=e,this._logLevel=bO,this._logHandler=SO,this._userLogHandler=null,oh.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in H))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...e),this._logHandler(this,H.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...e),this._logHandler(this,H.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,H.INFO,...e),this._logHandler(this,H.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,H.WARN,...e),this._logHandler(this,H.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...e),this._logHandler(this,H.ERROR,...e)}};function vI(t){oh.forEach(e=>{e.setLogLevel(t)})}function EI(t,e){for(let n of oh){let r=null;e&&e.level&&(r=yI[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{let a=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");s>=(r??i.logLevel)&&t({level:H[s].toLowerCase(),message:a,args:o,type:i.name})}}}var AO=(t,e)=>e.some(n=>t instanceof n),II,wI;function NO(){return II||(II=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MO(){return wI||(wI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var DI=new WeakMap,ch=new WeakMap,CI=new WeakMap,ah=new WeakMap,uh=new WeakMap;function RO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ot(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DI.set(n,t)}).catch(()=>{}),uh.set(e,t),e}function xO(t){if(ch.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ch.set(t,e)}var lh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ch.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ot(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bI(t){lh=t(lh)}function OO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(xc(this),e,...n);return CI.set(r,e.sort?e.sort():[e]),Ot(r)}:MO().includes(t)?function(...e){return t.apply(xc(this),e),Ot(DI.get(this))}:function(...e){return Ot(t.apply(xc(this),e))}}function PO(t){return typeof t=="function"?OO(t):(t instanceof IDBTransaction&&xO(t),AO(t,NO())?new Proxy(t,lh):t)}function Ot(t){if(t instanceof IDBRequest)return RO(t);if(ah.has(t))return ah.get(t);let e=PO(t);return e!==t&&(ah.set(t,e),uh.set(e,t)),e}var xc=t=>uh.get(t);function SI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Ot(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ot(o.result),c.oldVersion,c.newVersion,Ot(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var kO=["get","getKey","getAll","getAllKeys","count"],FO=["put","add","delete","clear"],dh=new Map;function TI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dh.get(e))return dh.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=FO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kO.includes(n)))return;let s=function(o,...a){return m(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return dh.set(e,s),s}bI(t=>ae(te({},t),{get:(e,n,r)=>TI(e,n)||t.get(e,n,r),has:(e,n)=>!!TI(e,n)||t.has(e,n)}));var hh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function LO(t){let e=t.getComponent();return e?.type==="VERSION"}var Oc="@firebase/app",ph="0.10.5";var Xn=new xt("@firebase/app"),VO="@firebase/app-compat",UO="@firebase/analytics-compat",jO="@firebase/analytics",BO="@firebase/app-check-compat",$O="@firebase/app-check",HO="@firebase/auth",WO="@firebase/auth-compat",GO="@firebase/database",zO="@firebase/database-compat",qO="@firebase/functions",YO="@firebase/functions-compat",KO="@firebase/installations",QO="@firebase/installations-compat",ZO="@firebase/messaging",JO="@firebase/messaging-compat",XO="@firebase/performance",eP="@firebase/performance-compat",tP="@firebase/remote-config",nP="@firebase/remote-config-compat",rP="@firebase/storage",iP="@firebase/storage-compat",sP="@firebase/firestore",oP="@firebase/vertexai-preview",aP="@firebase/firestore-compat",cP="firebase",lP="10.12.2";var Pt="[DEFAULT]",uP={[Oc]:"fire-core",[VO]:"fire-core-compat",[jO]:"fire-analytics",[UO]:"fire-analytics-compat",[$O]:"fire-app-check",[BO]:"fire-app-check-compat",[HO]:"fire-auth",[WO]:"fire-auth-compat",[GO]:"fire-rtdb",[zO]:"fire-rtdb-compat",[qO]:"fire-fn",[YO]:"fire-fn-compat",[KO]:"fire-iid",[QO]:"fire-iid-compat",[ZO]:"fire-fcm",[JO]:"fire-fcm-compat",[XO]:"fire-perf",[eP]:"fire-perf-compat",[tP]:"fire-rc",[nP]:"fire-rc-compat",[rP]:"fire-gcs",[iP]:"fire-gcs-compat",[sP]:"fire-fst",[aP]:"fire-fst-compat",[oP]:"fire-vertex","fire-js":"fire-js",[cP]:"fire-js-all"};var vn=new Map,ni=new Map,ri=new Map;function ii(t,e){try{t.container.addComponent(e)}catch(n){Xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yh(t,e){t.container.addOrOverwriteComponent(e)}function Be(t){let e=t.name;if(ri.has(e))return Xn.debug(`There were multiple attempts to register component ${e}.`),!1;ri.set(e,t);for(let n of vn.values())ii(n,t);for(let n of ni.values())ii(n,t);return!0}function er(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dP(t,e,n=Pt){er(t,e).clearInstance(n)}function RI(t){return t.options!==void 0}function tr(t){return t.settings!==void 0}function fP(){ri.clear()}var hP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ze=new Qe("app","Firebase",hP);var Pc=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new me("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}};var gh=class extends Pc{constructor(e,n,r,i){let s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{let a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,z(Oc,ph,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Rs(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Ze.create("server-app-deleted")}};var _t=lP;function si(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ze.create("bad-app-name",{appName:String(i)});if(n||(n=sh()),!n)throw Ze.create("no-options");let s=vn.get(i);if(s){if(Ts(n,s.options)&&Ts(r,s.config))return s;throw Ze.create("duplicate-app",{appName:i})}let o=new ti(i);for(let c of ri.values())o.addComponent(c);let a=new Pc(n,r,o);return vn.set(i,a),a}function xI(t,e){if(Sc())throw Ze.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;RI(t)?n=t.options:n=t;let r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;let i=l=>[...l].reduce((u,d)=>Math.imul(31,u)+d.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Ze.create("finalization-registry-not-supported",{});let s=""+i(JSON.stringify(r)),o=ni.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;let a=new ti(s);for(let l of ri.values())a.addComponent(l);let c=new gh(n,e,s,a);return ni.set(s,c),c}function En(t=Pt){let e=vn.get(t);if(!e&&t===Pt&&sh())return si();if(!e)throw Ze.create("no-app",{appName:t});return e}function Ms(){return Array.from(vn.values())}function Rs(t){return m(this,null,function*(){let e=!1,n=t.name;vn.has(n)?(e=!0,vn.delete(n)):ni.has(n)&&t.decRefCount()<=0&&(ni.delete(n),e=!0),e&&(yield Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)})}function z(t,e,n){var r;let i=(r=uP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xn.warn(a.join(" "));return}Be(new me(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function kc(t,e){if(t!==null&&typeof t!="function")throw Ze.create("invalid-log-argument");EI(t,e)}function Fc(t){vI(t)}var pP="firebase-heartbeat-database",gP=1,Ns="firebase-heartbeat-store",fh=null;function OI(){return fh||(fh=SI(pP,gP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ns)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ze.create("idb-open",{originalErrorMessage:t.message})})),fh}function mP(t){return m(this,null,function*(){try{let n=(yield OI()).transaction(Ns),r=yield n.objectStore(Ns).get(PI(t));return yield n.done,r}catch(e){if(e instanceof Ue)Xn.warn(e.message);else{let n=Ze.create("idb-get",{originalErrorMessage:e?.message});Xn.warn(n.message)}}})}function AI(t,e){return m(this,null,function*(){try{let r=(yield OI()).transaction(Ns,"readwrite");yield r.objectStore(Ns).put(e,PI(t)),yield r.done}catch(n){if(n instanceof Ue)Xn.warn(n.message);else{let r=Ze.create("idb-set",{originalErrorMessage:n?.message});Xn.warn(r.message)}}})}function PI(t){return`${t.name}!${t.options.appId}`}var _P=1024,yP=30*24*60*60*1e3,mh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new _h(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=NI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=yP}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return m(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=NI(),{heartbeatsToSend:r,unsentEntries:i}=vP(this._heartbeatsCache.heartbeats),s=ws(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function NI(){return new Date().toISOString().substring(0,10)}function vP(t,e=_P){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),MI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var _h=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return dI()?fI().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield mP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function MI(t){return ws(JSON.stringify({version:2,heartbeats:t})).length}function EP(t){Be(new me("platform-logger",e=>new hh(e),"PRIVATE")),Be(new me("heartbeat",e=>new mh(e),"PRIVATE")),z(Oc,ph,t),z(Oc,ph,"esm2017"),z("fire-js","")}EP("");var IP="firebase",wP="10.12.2";z(IP,wP,"app");var ai=new fn("ANGULARFIRE2_VERSION");function Ih(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Os=(t,e)=>{let n=e?[e]:Ms(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},xs=class{constructor(){return Os(DP)}},DP="app-check";function oi(){}var Lc=class{zone;delegate;constructor(e,n=Ul){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Eh=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oi,{},oi,oi)),n.pipe(Fi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ps=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Lc(Zone.current)),this.insideAngular=n.run(()=>new Lc(Zone.current,sn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(S(Q))};static \u0275prov=A({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ks(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function CP(t){return ks().ngZone.runOutsideAngular(()=>t())}function nr(t){return ks().ngZone.run(()=>t())}function t3(t){return t.pipe(Ut(ks().outsideAngular))}function bP(t){return TP(ks())(t)}function TP(t){return function(n){return n=n.lift(new Eh(t.ngZone)),n.pipe(on(t.outsideAngular),Ut(t.insideAngular))}}var SP=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),nr(()=>t.apply(void 0,r))},Fs=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=nr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oi,{},oi,oi))),r[s]=SP(r[s],n));let i=CP(()=>t.apply(this,r));if(!e)if(i instanceof O){let s=ks();return i.pipe(on(s.outsideAngular),Ut(s.insideAngular))}else return nr(()=>i);return i instanceof O?i.pipe(bP):i instanceof Promise?nr(()=>new Promise((s,o)=>i.then(a=>nr(()=>s(a)),a=>nr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:nr(()=>i)};var rr=class{constructor(e){return e}},Ls=class{constructor(){return Ms()}};function AP(t){return t&&t.length===1?t[0]:new rr(En())}var wh=new I("angularfire2._apps"),NP={provide:rr,useFactory:AP,deps:[[new ze,wh]]},MP={provide:Ls,deps:[[new ze,wh]]};function RP(t){return(e,n)=>{let r=n.get(be);z("angularfire",ai.full,"core"),z("angularfire",ai.full,"app"),z("angular",yf.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new rr(i)}}function c3(t,...e){return At([NP,MP,{provide:wh,useFactory:RP(t),multi:!0,deps:[Q,qe,Ps,...e]}])}var l3=Fs(si,!0);function $I(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HI=$I,WI=new Qe("auth","Firebase",$I());var Bc=new xt("@firebase/auth");function xP(t,...e){Bc.logLevel<=H.WARN&&Bc.warn(`Auth (${_t}): ${t}`,...e)}function Uc(t,...e){Bc.logLevel<=H.ERROR&&Bc.error(`Auth (${_t}): ${t}`,...e)}function kI(t,...e){throw Ph(t,...e)}function Oh(t,...e){return Ph(t,...e)}function GI(t,e,n){let r=Object.assign(Object.assign({},HI()),{[e]:n});return new Qe("auth","Firebase",r).create(e,{appName:t.name})}function jc(t){return GI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ph(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WI.create(t,...e)}function $(t,e,...n){if(!t)throw Ph(e,...n)}function Vs(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Uc(e),new Error(e)}function $c(t,e){t||Vs(e)}function OP(){return FI()==="http:"||FI()==="https:"}function FI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function PP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OP()||uI()||"connection"in navigator)?navigator.onLine:!0}function kP(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var sr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,$c(n>e,"Short delay should be less than long delay!"),this.isMobile=Cs()||Ac()}get(){return PP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function FP(t,e){$c(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Hc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var LP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var VP=new sr(3e4,6e4);function zI(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function qc(s,o,a,c){return m(this,arguments,function*(t,e,n,r,i={}){return qI(t,i,()=>m(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Ss(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),Hc.fetch()(YI(t,t.config.apiHost,n,d),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},l))}))})}function qI(t,e,n){return m(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},LP),e);try{let i=new bh(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Vc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Vc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Vc(t,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw GI(t,u,l);kI(t,u)}}catch(i){if(i instanceof Ue)throw i;kI(t,"network-request-failed",{message:String(i)})}})}function YI(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?FP(t.config,i):`${t.config.apiScheme}://${i}`}var bh=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oh(this.auth,"network-request-failed")),VP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Vc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Oh(t,e,r);return i.customData._tokenResponse=n,i}function UP(t,e){return m(this,null,function*(){return qc(t,"POST","/v1/accounts:delete",e)})}function KI(t,e){return m(this,null,function*(){return qc(t,"POST","/v1/accounts:lookup",e)})}function Us(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kh(t,e=!1){return m(this,null,function*(){let n=de(t),r=yield n.getIdToken(e),i=QI(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Us(Dh(i.auth_time)),issuedAtTime:Us(Dh(i.iat)),expirationTime:Us(Dh(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Dh(t){return Number(t)*1e3}function QI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ds(n);return i?JSON.parse(i):(Uc("Failed to decode base64 JWT payload"),null)}catch(i){return Uc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LI(t){let e=QI(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Th(t,e,n=!1){return m(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ue&&jP(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function jP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Sh=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Bs=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Us(this.lastLoginAt),this.creationTime=Us(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wc(t){return m(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Th(t,KI(n,{idToken:r}));$(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ZI(s.providerUserInfo):[],a=BP(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Bs(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Fh(t){return m(this,null,function*(){let e=de(t);yield Wc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function BP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZI(t){return t.map(e=>{var{providerId:n}=e,r=Bl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $P(t,e){return m(this,null,function*(){let n=yield qI(t,{},()=>m(this,null,function*(){let r=Ss({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YI(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hc.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function HP(t,e){return m(this,null,function*(){return qc(t,"POST","/v2/accounts:revokeToken",zI(t,e))})}var js=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");let n=LI(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return m(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield $P(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&($(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&($(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Vs("not implemented")}};function In(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var $s=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Bl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Bs(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let n=yield Th(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return kh(this,e)}reload(){return Fh(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return m(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Wc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){if(tr(this.auth.app))return Promise.reject(jc(this.auth));let e=yield this.getIdToken();return yield Th(this,UP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,g=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(l=n.createdAt)!==null&&l!==void 0?l:void 0,N=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:T,emailVerified:w,isAnonymous:ee,providerData:J,stsTokenManager:Ee}=n;$(T&&Ee,e,"internal-error");let tt=js.fromJSON(this.name,Ee);$(typeof T=="string",e,"internal-error"),In(d,e.name),In(f,e.name),$(typeof w=="boolean",e,"internal-error"),$(typeof ee=="boolean",e,"internal-error"),In(h,e.name),In(p,e.name),In(_,e.name),In(g,e.name),In(v,e.name),In(N,e.name);let Vt=new t({uid:T,auth:e,email:f,emailVerified:w,displayName:d,isAnonymous:ee,photoURL:p,phoneNumber:h,tenantId:_,stsTokenManager:tt,createdAt:v,lastLoginAt:N});return J&&Array.isArray(J)&&(Vt.providerData=J.map(El=>Object.assign({},El))),g&&(Vt._redirectEventId=g),Vt}static _fromIdTokenResponse(e,n,r=!1){return m(this,null,function*(){let i=new js;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wc(s),s})}static _fromGetAccountInfoResponse(e,n,r){return m(this,null,function*(){let i=n.users[0];$(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ZI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new js;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Bs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var VI=new Map;function ir(t){$c(t instanceof Function,"Expected a class definition");let e=VI.get(t);return e?($c(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VI.set(t,e),e)}var WP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ah=WP;function Ch(t,e,n){return`firebase:${t}:${e}:${n}`}var Gc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ch(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ch("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?$s._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new t(ir(Ah),e,r);let i=(yield Promise.all(n.map(l=>m(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||ir(Ah),o=Ch(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=$s._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>m(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function UI(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QP(e))return"Blackberry";if(ZP(e))return"Webos";if(zP(e))return"Safari";if((e.includes("chrome/")||qP(e))&&!e.includes("edge/"))return"Chrome";if(KP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function GP(t=mt()){return/firefox\//i.test(t)}function zP(t=mt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qP(t=mt()){return/crios\//i.test(t)}function YP(t=mt()){return/iemobile/i.test(t)}function KP(t=mt()){return/android/i.test(t)}function QP(t=mt()){return/blackberry/i.test(t)}function ZP(t=mt()){return/webos/i.test(t)}function JI(t,e=[]){let n;switch(t){case"Browser":n=UI(mt());break;case"Worker":n=`${UI(mt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_t}/${r}`}var Nh=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function JP(n){return m(this,arguments,function*(t,e={}){return qc(t,"GET","/v2/passwordPolicy",zI(t,e))})}var XP=6,Mh=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:XP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Rh=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zc(this),this.idTokenSubscription=new zc(this),this.beforeStateQueue=new Nh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Gc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return m(this,null,function*(){try{let n=yield KI(this,{idToken:e}),r=yield $s._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return m(this,null,function*(){var n;if(tr(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield Wc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=kP()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){if(tr(this.app))return Promise.reject(jc(this));let n=e?de(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return m(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return tr(this.app)?Promise.reject(jc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return tr(this.app)?Promise.reject(jc(this)):this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(ir(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield JP(this),n=new Mh(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qe("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield HP(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ir(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=yield Gc.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if($(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xP(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ek(t){return de(t)}var zc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Mc(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var tk={loadJS(){return m(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nk(t){tk=t}function rk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function ik(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var I3=rk("rcb"),w3=new sr(3e4,6e4);var D3=new sr(2e3,1e4);var C3=10*60*1e3;var b3=new sr(3e4,6e4);var T3=new sr(5e3,15e3);var S3=encodeURIComponent("fac");var jI="@firebase/auth",BI="1.7.4";var xh=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ok(t){Be(new me("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JI(t)},l=new Rh(r,i,s,c);return ik(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Be(new me("auth-internal",e=>{let n=ek(e.getProvider("auth").getImmediate());return(r=>new xh(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),z(jI,BI,sk(t)),z(jI,BI,"esm2017")}var ak=5*60,A3=lI("authIdTokenMaxAge")||ak;function ck(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nk({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Oh("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ck().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ok("Browser");var aF="auth";var Yc=class{constructor(){return Os(aF)}};var XI="@firebase/database",ew="1.0.5";var Pp="";function cF(t){Pp=t}var Wh=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ue(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Gh=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return je(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var xw=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Wh(e)}}catch{}return new Gh},ar=xw("localStorage"),zh=xw("sessionStorage");var di=new xt("@firebase/database"),lF=function(){let t=1;return function(){return t++}}(),Ow=function(t){let e=_I(t),n=new Dc;n.update(e);let r=n.digest();return Cc.encodeByteArray(r)},to=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=to.apply(null,r):typeof r=="object"?e+=ue(r):e+=r,e+=" "}return e},cr=null,tw=!0,uF=function(t,e){y(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(di.logLevel=H.VERBOSE,cr=di.log.bind(di),e&&zh.set("logging_enabled",!0)):typeof t=="function"?cr=t:(cr=null,zh.remove("logging_enabled"))},_e=function(...t){if(tw===!0&&(tw=!1,cr===null&&zh.get("logging_enabled")===!0&&uF(!0)),cr){let e=to.apply(null,t);cr(e)}},no=function(t){return function(...e){_e(t,...e)}},qh=function(...t){let e="FIREBASE INTERNAL ERROR: "+to(...t);di.error(e)},nn=function(...t){let e=`FIREBASE FATAL ERROR: ${to(...t)}`;throw di.error(e),new Error(e)},$e=function(...t){let e="FIREBASE WARNING: "+to(...t);di.warn(e)},dF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$e("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Pw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},fF=function(t){if(Rt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},hi="[MIN_NAME]",lr="[MAX_NAME]",Ei=function(t,e){if(t===e)return 0;if(t===hi||e===lr)return-1;if(e===hi||t===lr)return 1;{let n=nw(t),r=nw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},hF=function(t,e){return t===e?0:t<e?-1:1},Hs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ue(e))},kp=function(t){if(typeof t!="object"||t===null)return ue(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ue(e[r]),n+=":",n+=kp(t[e[r]]);return n+="}",n},kw=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function et(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Fw=function(t){y(!Pw(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},pF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var mF=new RegExp("^-?(0*)\\d{1,10}$"),_F=-2147483648,yF=2147483647,nw=function(t){if(mF.test(t)){let e=Number(t);if(e>=_F&&e<=yF)return e}return null},ro=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw $e("Exception was thrown by user callback.",n),e},Math.floor(0))}},vF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ys=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Yh=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){$e(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Kh=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(_e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$e(e)}},Ks=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Qc="5",Lw="v",Vw="s",Uw="r",jw="f",Bw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$w="ls",Hw="p",Qh="ac",Ww="websocket",Gw="long_polling";var Zc=class{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ar.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ar.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function EF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function zw(t,e,n){y(typeof e=="string","typeof type must == string"),y(typeof n=="object","typeof params must == object");let r;if(e===Ww)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Gw)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);EF(t)&&(n.ns=t.namespace);let i=[];return et(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var Zh=class{constructor(){this.counters_={}}incrementCounter(e,n=1){je(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return aI(this.counters_)}};var Lh={},Vh={};function Fp(t){let e=t.toString();return Lh[e]||(Lh[e]=new Zh),Lh[e]}function IF(t,e){let n=t.toString();return Vh[n]||(Vh[n]=e()),Vh[n]}var Jh=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ro(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var rw="start",wF="close",DF="pLPCommand",CF="pRTLPCB",qw="id",Yw="pw",Kw="ser",bF="cb",TF="seg",SF="ts",AF="d",NF="dframe",Qw=1870,Zw=30,MF=Qw-Zw,RF=25e3,xF=3e4,Xh=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=no(e),this.stats_=Fp(n),this.urlFn=c=>(this.appCheckToken&&(c[Qh]=this.appCheckToken),zw(n,Gw,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Jh(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(xF)),fF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ep((...s)=>{let[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===rw)this.id=a,this.password=c;else if(o===wF)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[rw]="t",r[Kw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Lw]=Qc,this.transportSessionId&&(r[Vw]=this.transportSessionId),this.lastSessionId&&(r[$w]=this.lastSessionId),this.applicationId&&(r[Hw]=this.applicationId),this.appCheckToken&&(r[Qh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Bw.test(location.hostname)&&(r[Uw]=jw);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Rt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pF()&&!gF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=ue(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=rh(n),i=kw(r,MF);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Rt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[NF]="t",r[qw]=e,r[Yw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=ue(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},ep=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Rt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=lF(),window[DF+this.uniqueCallbackIdentifier]=e,window[CF+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){_e("frame writing exception"),a.stack&&_e(a.stack),_e(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_e("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[qw]=this.myID,e[Yw]=this.myPW,e[Kw]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Zw+r.length<=Qw;){let o=this.pendingSegs.shift();r=r+"&"+TF+i+"="+o.seg+"&"+SF+i+"="+o.ts+"&"+AF+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(RF)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Rt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{_e("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var OF=16384,PF=45e3,Jc=null;typeof MozWebSocket<"u"?Jc=MozWebSocket:typeof WebSocket<"u"&&(Jc=WebSocket);var Ws=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=no(this.connId),this.stats_=Fp(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[Lw]=Qc,!Rt()&&typeof location<"u"&&location.hostname&&Bw.test(location.hostname)&&(a[Uw]=jw),r&&(a[Vw]=r),i&&(a[$w]=i),s&&(a[Qh]=s),o&&(a[Hw]=o),zw(n,Ww,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ar.set("previous_websocket_failure",!0);try{let i;if(Rt()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Qc}/${Pp}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Jc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Jc!==null&&!t.forceDisallow_}static previouslyFailed(){return ar.isInMemoryStorage||ar.get("previous_websocket_failure")===!0}markConnectionHealthy(){ar.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Xr(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(y(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ue(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=kw(r,OF);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PF))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),kF=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Xh,Ws]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Ws&&Ws.isAvailable(),i=r&&!Ws.previouslyFailed();if(n.webSocketOnly&&(r||$e("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ws];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),FF=6e4,LF=5e3,VF=10*1024,UF=100*1024,Uh="t",iw="d",jF="s",sw="r",BF="e",ow="o",aw="a",cw="n",lw="p",$F="h",tp=class{constructor(e,n,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=no("c:"+this.id+":"),this.transportManager_=new kF(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ys(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>UF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>VF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Uh in e){let n=e[Uh];n===aw?this.upgradeIfSecondaryHealthy_():n===sw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ow&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Hs("t",e),r=Hs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:lw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:aw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:cw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Hs("t",e),r=Hs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Hs(Uh,e);if(iw in e){let r=e[iw];if(n===$F){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===cw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===jF?this.onConnectionShutdown_(r):n===sw?this.onReset_(r):n===BF?qh("Server Error: "+r):n===ow?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qh("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Qc!==r&&$e("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ys(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(FF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ys(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(LF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:lw,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ar.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Xc=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var el=class{constructor(e){this.allowedEvents_=e,this.listeners_={},y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){y(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var tl=class t extends el{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Cs()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var uw=32,dw=768,q=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function W(){return new q("")}function U(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Dn(t){return t.pieces_.length-t.pieceNum_}function Z(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new q(t.pieces_,e)}function Jw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function HF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Xw(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function eD(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new q(e,0)}function fe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof q)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new q(n,0)}function V(t){return t.pieceNum_>=t.pieces_.length}function Je(t,e){let n=U(t),r=U(e);if(n===null)return e;if(n===r)return Je(Z(t),Z(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tD(t,e){if(Dn(t)!==Dn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function vt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Dn(t)>Dn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var np=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Xw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=As(this.parts_[r]);nD(this)}};function WF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=As(e),nD(t)}function GF(t){let e=t.parts_.pop();t.byteLength_-=As(e),t.parts_.length>0&&(t.byteLength_-=1)}function nD(t){if(t.byteLength_>dw)throw new Error(t.errorPrefix_+"has a key path longer than "+dw+" bytes ("+t.byteLength_+").");if(t.parts_.length>uw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uw+") or object contains a cycle "+or(t))}function or(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var rp=class t extends el{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return y(e==="visible","Unknown event type: "+e),[this.visible_]}};var Gs=1e3,zF=60*5*1e3,fw=30*1e3,qF=1.3,YF=3e4,KF="server_kill",hw=3,Lp=(()=>{class t extends Xc{constructor(n,r,i,s,o,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=no("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gs,this.maxReconnectDelay_=zF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Rt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rp.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&tl.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(ue(o)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Kn,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&je(n,"w")){let i=Zn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();$e(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||gI(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fw)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=pI(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ue(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):qh("Unrecognized action received from server: "+ue(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>YF&&(this.reconnectDelay_=Gs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qF)}this.onConnectStatus_(!1)}establishConnection_(){return m(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){y(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?_e("getToken() completed but was canceled"):(_e("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new tp(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{$e(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(KF)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&$e(f),l())}}})}interrupt(n){_e("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){_e("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Nc(this.interruptReasons_)&&(this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>kp(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new q(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){_e("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=hw&&(this.reconnectDelay_=fw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){_e("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=hw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Rt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Pp.replace(/\./g,"-")]=1,Cs()?n["framework.cordova"]=1:Ac()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=tl.getInstance().currentlyOnline();return Nc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),j=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var pi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new j(hi,e),i=new j(hi,n);return this.compare(r,i)!==0}minPost(){return j.MIN}};var Kc,nl=class extends pi{static get __EMPTY_NODE(){return Kc}static set __EMPTY_NODE(e){Kc=e}compare(e,n){return Ei(e.name,n.name)}isDefinedOn(e){throw Qn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return j.MIN}maxPost(){return new j(lr,Kc)}makePost(e,n){return y(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,Kc)}toString(){return".key"}},fi=new nl;var li=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},yt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Xe.EMPTY_NODE,this.right=o??Xe.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xe.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Xe.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),ip=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new yt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Xe=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,yt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,yt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new li(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new li(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new li(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new li(this.root_,null,this.comparator_,!0,e)}};Xe.EMPTY_NODE=new ip;function QF(t,e){return Ei(t.name,e.name)}function Vp(t,e){return Ei(t,e)}var sp;function ZF(t){sp=t}var rD=function(t){return typeof t=="number"?"number:"+Fw(t):"string:"+t},iD=function(t){if(t.isLeafNode()){let e=t.val();y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&je(e,".sv"),"Priority must be a string or number.")}else y(t===sp||t.isEmpty(),"priority of unexpected type.");y(t===sp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var pw,gi=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),iD(this.priorityNode_)}static set __childrenNodeConstructor(n){pw=n}static get __childrenNodeConstructor(){return pw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return V(n)?this:U(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=U(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(y(i!==".priority"||Dn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Z(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+rD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=Fw(this.value_):n+=this.value_,this.lazyHash_=Ow(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return y(s>=0,"Unknown leaf type: "+r),y(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),sD,oD;function JF(t){sD=t}function XF(t){oD=t}var op=class extends pi{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ei(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(lr,new gi("[PRIORITY-POST]",oD))}makePost(e,n){let r=sD(e);return new j(n,new gi("[PRIORITY-POST]",r))}toString(){return".priority"}},ve=new op;var eL=Math.log(2),ap=class{constructor(e){let n=s=>parseInt(Math.log(s)/eL,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},rl=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new yt(f,d.node,yt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),_=i(h+1,l);return d=t[h],f=n?n(d):d,new yt(f,d.node,yt.BLACK,p,_)}},s=function(c){let l=null,u=null,d=t.length,f=function(p,_){let g=d-p,v=d;d-=p;let N=i(g+1,v),T=t[g],w=n?n(T):T;h(new yt(w,T.node,_,null,N))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let _=c.nextBitIsOne(),g=Math.pow(2,c.count-(p+1));_?f(g,yt.BLACK):(f(g,yt.BLACK),f(g,yt.RED))}return u},o=new ap(t.length),a=s(o);return new Xe(r||e,a)};var jh,ci={},mi=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return y(ci&&ve,"ChildrenNode.ts has not been loaded"),jh=jh||new t({".priority":ci},{".priority":ve}),jh}get(e){let n=Zn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Xe?n:null}hasIndex(e){return je(this.indexSet_,e.toString())}addIndex(e,n){y(e!==fi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(j.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=rl(r,e.getCompare()):a=ci;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=bs(this.indexes_,(i,s)=>{let o=Zn(this.indexSet_,s);if(y(o,"Missing index implementation for "+s),i===ci)if(o.isDefinedOn(e.node)){let a=[],c=n.getIterator(j.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),rl(a,o.getCompare())}else return ci;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new j(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=bs(this.indexes_,i=>{if(i===ci)return i;{let s=n.get(e.name);return s?i.remove(new j(e.name,s)):i}});return new t(r,this.indexSet_)}};var zs,ne=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&iD(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zs||(zs=new t(new Xe(Vp),null,mi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zs}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?zs:r}}getChild(n){let r=U(n);return r===null?this:this.getImmediateChild(r).getChild(Z(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(y(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new j(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?zs:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=U(n);if(i===null)return r;{y(U(n)!==".priority"||Dn(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(Z(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(ve,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+rD(this.getPriority().val())+":"),this.forEachChild(ve,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":Ow(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new j(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new j(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new j(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,j.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,j.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===io?-1:0}withIndex(n){if(n===fi||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===fi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ve),s=r.getIterator(ve),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===fi?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),cp=class extends ne{constructor(){super(new Xe(Vp),ne.EMPTY_NODE,mi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}},io=new cp;Object.defineProperties(j,{MIN:{value:new j(hi,ne.EMPTY_NODE)},MAX:{value:new j(lr,io)}});nl.__EMPTY_NODE=ne.EMPTY_NODE;gi.__childrenNodeConstructor=ne;ZF(io);XF(io);var tL=!0;function ye(t,e=null){if(t===null)return ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new gi(n,ye(e))}if(!(t instanceof Array)&&tL){let n=[],r=!1;if(et(t,(o,a)=>{if(o.substring(0,1)!=="."){let c=ye(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new j(o,c)))}}),n.length===0)return ne.EMPTY_NODE;let s=rl(n,QF,o=>o.name,Vp);if(r){let o=rl(n,ve.getCompare());return new ne(s,ye(e),new mi({".priority":o},{".priority":ve}))}else return new ne(s,ye(e),mi.Default)}else{let n=ne.EMPTY_NODE;return et(t,(r,i)=>{if(je(t,r)&&r.substring(0,1)!=="."){let s=ye(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ye(e))}}JF(ye);var lp=class extends pi{constructor(e){super(),this.indexPath_=e,y(!V(e)&&U(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ei(e.name,n.name):s}makePost(e,n){let r=ye(e),i=ne.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){let e=ne.EMPTY_NODE.updateChild(this.indexPath_,io);return new j(lr,e)}toString(){return Xw(this.indexPath_,0).join("/")}};var up=class extends pi{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ei(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,n){let r=ye(e);return new j(n,r)}toString(){return".value"}},nL=new up;function rL(t){return{type:"value",snapshotNode:t}}function iL(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function sL(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function gw(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function oL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var dp=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hi}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:lr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ve}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function mw(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ve?n="$priority":t.index_===nL?n="$value":t.index_===fi?n="$key":(y(t.index_ instanceof lp,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ue(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=ue(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ue(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ue(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ue(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _w(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ve&&(e.i=t.index_.toString()),e}var fp=class t extends Xc{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=no("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let c=mw(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(s,d,!1,r),Zn(this.listens_,o)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=mw(e._queryParams),r=e._path.toString(),i=new Kn;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ss(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Xr(a.responseText)}catch{$e("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&$e("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var hp=class{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function il(){return{value:null,children:new Map}}function aD(t,e,n){if(V(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=U(e);t.children.has(r)||t.children.set(r,il());let i=t.children.get(r);e=Z(e),aD(i,e,n)}}function pp(t,e,n){t.value!==null?n(e,t.value):aL(t,(r,i)=>{let s=new q(e.toString()+"/"+r);pp(i,s,n)})}function aL(t,e){t.children.forEach((n,r)=>{e(r,n)})}var gp=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&et(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var yw=10*1e3,cL=30*1e3,lL=5*60*1e3,mp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gp(e);let r=yw+(cL-yw)*Math.random();Ys(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;et(e,(i,s)=>{s>0&&je(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ys(this.reportStats_.bind(this),Math.floor(Math.random()*2*lL))}};var tn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(tn||{});function cD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function uD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var _p=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=tn.ACK_USER_WRITE,this.source=cD()}operationForChild(e){if(V(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new q(e));return new t(W(),n,this.revert)}}else return y(U(this.path)===e,"operationForChild called for unrelated child."),new t(Z(this.path),this.affectedTree,this.revert)}};var _i=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=tn.OVERWRITE}operationForChild(e){return V(this.path)?new t(this.source,W(),this.snap.getImmediateChild(e)):new t(this.source,Z(this.path),this.snap)}};var sl=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=tn.MERGE}operationForChild(e){if(V(this.path)){let n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new _i(this.source,W(),n.value):new t(this.source,W(),n)}else return y(U(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Z(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Js=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(V(e))return this.isFullyInitialized()&&!this.filtered_;let n=U(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function uL(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(oL(o.childName,o.snapshotNode))}),qs(t,i,"child_removed",e,r,n),qs(t,i,"child_added",e,r,n),qs(t,i,"child_moved",s,r,n),qs(t,i,"child_changed",e,r,n),qs(t,i,"value",e,r,n),i}function qs(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,c)=>fL(t,a,c)),o.forEach(a=>{let c=dL(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function dL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function fL(t,e,n){if(e.childName==null||n.childName==null)throw Qn("Should only compare child_ events.");let r=new j(e.childName,e.snapshotNode),i=new j(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function dD(t,e){return{eventCache:t,serverCache:e}}function Qs(t,e,n,r){return dD(new Js(e,n,r),t.serverCache)}function fD(t,e,n,r){return dD(t.eventCache,new Js(e,n,r))}function yp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ur(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Bh,hL=()=>(Bh||(Bh=new Xe(hF)),Bh),xe=class t{constructor(e,n=hL()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return et(e,(r,i)=>{n=n.set(new q(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:W(),value:this.value};if(V(e))return null;{let r=U(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(Z(e),n);return s!=null?{path:fe(new q(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(V(e))return this;{let n=U(e),r=this.children.get(n);return r!==null?r.subtree(Z(e)):new t(null)}}set(e,n){if(V(e))return new t(n,this.children);{let r=U(e),s=(this.children.get(r)||new t(null)).set(Z(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(V(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=U(e),r=this.children.get(n);if(r){let i=r.remove(Z(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(V(e))return this.value;{let n=U(e),r=this.children.get(n);return r?r.get(Z(e)):null}}setTree(e,n){if(V(e))return n;{let r=U(e),s=(this.children.get(r)||new t(null)).setTree(Z(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(W(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(fe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,W(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(V(e))return null;{let s=U(e),o=this.children.get(s);return o?o.findOnPath_(Z(e),fe(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,W(),n)}foreachOnPath_(e,n,r){if(V(e))return this;{this.value&&r(n,this.value);let i=U(e),s=this.children.get(i);return s?s.foreachOnPath_(Z(e),fe(n,i),r):new t(null)}}foreach(e){this.foreach_(W(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(fe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Et=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new xe(null))}};function Zs(t,e,n){if(V(e))return new Et(new xe(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Je(i,e);return s=s.updateChild(o,n),new Et(t.writeTree_.set(i,s))}else{let i=new xe(n),s=t.writeTree_.setTree(e,i);return new Et(s)}}}function vw(t,e,n){let r=t;return et(n,(i,s)=>{r=Zs(r,fe(e,i),s)}),r}function Ew(t,e){if(V(e))return Et.empty();{let n=t.writeTree_.setTree(e,new xe(null));return new Et(n)}}function vp(t,e){return dr(t,e)!=null}function dr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Je(n.path,e)):null}function Iw(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ve,(r,i)=>{e.push(new j(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new j(r,i.value))}),e}function wn(t,e){if(V(e))return t;{let n=dr(t,e);return n!=null?new Et(new xe(n)):new Et(t.writeTree_.subtree(e))}}function Ep(t){return t.writeTree_.isEmpty()}function yi(t,e){return hD(W(),t.writeTree_,e)}function hD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(y(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=hD(fe(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(fe(t,".priority"),r)),n}}function pD(t,e){return vD(e,t)}function pL(t,e,n,r,i){y(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Zs(t.visibleWrites,e,n)),t.lastWriteId=r}function gL(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function mL(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);y(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&_L(a,r.path)?i=!1:vt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return yL(t),!0;if(r.snap)t.visibleWrites=Ew(t.visibleWrites,r.path);else{let a=r.children;et(a,c=>{t.visibleWrites=Ew(t.visibleWrites,fe(r.path,c))})}return!0}else return!1}function _L(t,e){if(t.snap)return vt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&vt(fe(t.path,n),e))return!0;return!1}function yL(t){t.visibleWrites=gD(t.allWrites,vL,W()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function vL(t){return t.visible}function gD(t,e,n){let r=Et.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)vt(n,o)?(a=Je(n,o),r=Zs(r,a,s.snap)):vt(o,n)&&(a=Je(o,n),r=Zs(r,W(),s.snap.getChild(a)));else if(s.children){if(vt(n,o))a=Je(n,o),r=vw(r,a,s.children);else if(vt(o,n))if(a=Je(o,n),V(a))r=vw(r,W(),s.children);else{let c=Zn(s.children,U(a));if(c){let l=c.getChild(Z(a));r=Zs(r,W(),l)}}}else throw Qn("WriteRecord should have .snap or .children")}}return r}function mD(t,e,n,r,i){if(!r&&!i){let s=dr(t.visibleWrites,e);if(s!=null)return s;{let o=wn(t.visibleWrites,e);if(Ep(o))return n;if(n==null&&!vp(o,W()))return null;{let a=n||ne.EMPTY_NODE;return yi(o,a)}}}else{let s=wn(t.visibleWrites,e);if(!i&&Ep(s))return n;if(!i&&n==null&&!vp(s,W()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(vt(l.path,e)||vt(e,l.path))},a=gD(t.allWrites,o,e),c=n||ne.EMPTY_NODE;return yi(a,c)}}}function EL(t,e,n){let r=ne.EMPTY_NODE,i=dr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ve,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=wn(t.visibleWrites,e);return n.forEachChild(ve,(o,a)=>{let c=yi(wn(s,new q(o)),a);r=r.updateImmediateChild(o,c)}),Iw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=wn(t.visibleWrites,e);return Iw(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function IL(t,e,n,r,i){y(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=fe(e,n);if(vp(t.visibleWrites,s))return null;{let o=wn(t.visibleWrites,s);return Ep(o)?i.getChild(n):yi(o,i.getChild(n))}}function wL(t,e,n,r){let i=fe(e,n),s=dr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=wn(t.visibleWrites,i);return yi(o,r.getNode().getImmediateChild(n))}else return null}function DL(t,e){return dr(t.visibleWrites,e)}function CL(t,e,n,r,i,s,o){let a,c=wn(t.visibleWrites,e),l=dr(c,W());if(l!=null)a=l;else if(n!=null)a=yi(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function bL(){return{visibleWrites:Et.empty(),allWrites:[],lastWriteId:-1}}function Ip(t,e,n,r){return mD(t.writeTree,t.treePath,e,n,r)}function _D(t,e){return EL(t.writeTree,t.treePath,e)}function ww(t,e,n,r){return IL(t.writeTree,t.treePath,e,n,r)}function ol(t,e){return DL(t.writeTree,fe(t.treePath,e))}function TL(t,e,n,r,i,s){return CL(t.writeTree,t.treePath,e,n,r,i,s)}function Up(t,e,n){return wL(t.writeTree,t.treePath,e,n)}function yD(t,e){return vD(fe(t.treePath,e),t.writeTree)}function vD(t,e){return{treePath:t,writeTree:e}}var wp=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),y(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,gw(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,sL(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,iL(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,gw(r,e.snapshotNode,i.oldSnap));else throw Qn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Dp=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},ED=new Dp,Xs=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Js(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Up(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ur(this.viewCache_),s=TL(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function SL(t,e){y(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),y(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function AL(t,e,n,r,i){let s=new wp,o,a;if(n.type===tn.OVERWRITE){let l=n;l.source.fromUser?o=Cp(t,e,l.path,l.snap,r,i,s):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!V(l.path),o=al(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===tn.MERGE){let l=n;l.source.fromUser?o=ML(t,e,l.path,l.children,r,i,s):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=bp(t,e,l.path,l.children,r,i,a,s))}else if(n.type===tn.ACK_USER_WRITE){let l=n;l.revert?o=OL(t,e,l.path,r,i,s):o=RL(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===tn.LISTEN_COMPLETE)o=xL(t,e,n.path,r,s);else throw Qn("Unknown operation type: "+n.type);let c=s.getChanges();return NL(e,o,c),{viewCache:o,changes:c}}function NL(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=yp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(rL(yp(e)))}}function ID(t,e,n,r,i,s){let o=e.eventCache;if(ol(r,n)!=null)return e;{let a,c;if(V(n))if(y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=ur(e),u=l instanceof ne?l:ne.EMPTY_NODE,d=_D(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let l=Ip(r,ur(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=U(n);if(l===".priority"){y(Dn(n)===1,"Can't have a priority with additional path components");let u=o.getNode();c=e.serverCache.getNode();let d=ww(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=Z(n),d;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();let f=ww(r,n,o.getNode(),c);f!=null?d=o.getNode().getImmediateChild(l).updateChild(u,f):d=o.getNode().getImmediateChild(l)}else d=Up(r,l,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),l,d,u,i,s):a=o.getNode()}}return Qs(e,a,o.isFullyInitialized()||V(n),t.filter.filtersNodes())}}function al(t,e,n,r,i,s,o,a){let c=e.serverCache,l,u=o?t.filter:t.filter.getIndexedFilter();if(V(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=U(n);if(!c.isCompleteForPath(n)&&Dn(n)>1)return e;let p=Z(n),g=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),g):l=u.updateChild(c.getNode(),h,g,p,ED,null)}let d=fD(e,l,c.isFullyInitialized()||V(n),u.filtersNodes()),f=new Xs(i,d,s);return ID(t,d,n,i,f,a)}function Cp(t,e,n,r,i,s,o){let a=e.eventCache,c,l,u=new Xs(i,e,s);if(V(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Qs(e,l,!0,t.filter.filtersNodes());else{let d=U(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=Qs(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=Z(n),h=a.getNode().getImmediateChild(d),p;if(V(f))p=r;else{let _=u.getCompleteChild(d);_!=null?Jw(f)===".priority"&&_.getChild(eD(f)).isEmpty()?p=_:p=_.updateChild(f,r):p=ne.EMPTY_NODE}if(h.equals(p))c=e;else{let _=t.filter.updateChild(a.getNode(),d,p,f,u,o);c=Qs(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function Dw(t,e){return t.eventCache.isCompleteForChild(e)}function ML(t,e,n,r,i,s,o){let a=e;return r.foreach((c,l)=>{let u=fe(n,c);Dw(e,U(u))&&(a=Cp(t,a,u,l,i,s,o))}),r.foreach((c,l)=>{let u=fe(n,c);Dw(e,U(u))||(a=Cp(t,a,u,l,i,s,o))}),a}function Cw(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function bp(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;V(n)?l=r:l=new xe(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=Cw(t,h,f);c=al(t,c,new q(d),p,i,s,o,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),_=Cw(t,p,f);c=al(t,c,new q(d),_,i,s,o,a)}}),c}function RL(t,e,n,r,i,s,o){if(ol(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(V(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return al(t,e,n,c.getNode().getChild(n),i,s,a,o);if(V(n)){let l=new xe(null);return c.getNode().forEachChild(fi,(u,d)=>{l=l.set(new q(u),d)}),bp(t,e,n,l,i,s,a,o)}else return e}else{let l=new xe(null);return r.foreach((u,d)=>{let f=fe(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),bp(t,e,n,l,i,s,a,o)}}function xL(t,e,n,r,i){let s=e.serverCache,o=fD(e,s.getNode(),s.isFullyInitialized()||V(n),s.isFiltered());return ID(t,o,n,r,ED,i)}function OL(t,e,n,r,i,s){let o;if(ol(r,n)!=null)return e;{let a=new Xs(r,e,i),c=e.eventCache.getNode(),l;if(V(n)||U(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ip(r,ur(e));else{let d=e.serverCache.getNode();y(d instanceof ne,"serverChildren would be complete if leaf node"),u=_D(r,d)}u=u,l=t.filter.updateFullNode(c,u,s)}else{let u=U(n),d=Up(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,Z(n),a,s):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,ne.EMPTY_NODE,Z(n),a,s):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ip(r,ur(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||ol(r,W())!=null,Qs(e,l,o,t.filter.filtersNodes())}}function PL(t,e){let n=ur(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!V(e)&&!n.getImmediateChild(U(e)).isEmpty())?n.getChild(e):null}function bw(t,e,n,r){e.type===tn.MERGE&&e.source.queryId!==null&&(y(ur(t.viewCache_),"We should always have a full cache before handling merges"),y(yp(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=AL(t.processor_,i,e,n,r);return SL(t.processor_,s.viewCache),y(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,kL(t,s.changes,s.viewCache.eventCache.getNode(),null)}function kL(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return uL(t.eventGenerator_,e,n,i)}var Tw;function FL(t){y(!Tw,"__referenceConstructor has already been defined"),Tw=t}function jp(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return y(s!=null,"SyncTree gave us an op for an invalid query."),bw(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(bw(o,e,n,r));return s}}function Bp(t,e){let n=null;for(let r of t.views.values())n=n||PL(r,e);return n}var Sw;function LL(t){y(!Sw,"__referenceConstructor has already been defined"),Sw=t}var cl=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xe(null),this.pendingWriteTree_=bL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function VL(t,e,n,r,i){return pL(t.pendingWriteTree_,e,n,r,i),i?ul(t,new _i(cD(),e,n)):[]}function ui(t,e,n=!1){let r=gL(t.pendingWriteTree_,e);if(mL(t.pendingWriteTree_,e)){let s=new xe(null);return r.snap!=null?s=s.set(W(),!0):et(r.children,o=>{s=s.set(new q(o),!0)}),ul(t,new _p(r.path,s,n))}else return[]}function ll(t,e,n){return ul(t,new _i(lD(),e,n))}function UL(t,e,n){let r=xe.fromObject(n);return ul(t,new sl(lD(),e,r))}function jL(t,e,n,r){let i=bD(t,r);if(i!=null){let s=TD(i),o=s.path,a=s.queryId,c=Je(o,e),l=new _i(uD(a),c,n);return SD(t,o,l)}else return[]}function BL(t,e,n,r){let i=bD(t,r);if(i){let s=TD(i),o=s.path,a=s.queryId,c=Je(o,e),l=xe.fromObject(n),u=new sl(uD(a),c,l);return SD(t,o,u)}else return[]}function wD(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let c=Je(o,e),l=Bp(a,c);if(l)return l});return mD(i,e,s,n,!0)}function ul(t,e){return DD(e,t.syncPointTree_,null,pD(t.pendingWriteTree_,W()))}function DD(t,e,n,r){if(V(t.path))return CD(t,e,n,r);{let i=e.get(W());n==null&&i!=null&&(n=Bp(i,W()));let s=[],o=U(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){let l=n?n.getImmediateChild(o):null,u=yD(r,o);s=s.concat(DD(a,c,l,u))}return i&&(s=s.concat(jp(i,t,r,n))),s}}function CD(t,e,n,r){let i=e.get(W());n==null&&i!=null&&(n=Bp(i,W()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,l=yD(r,o),u=t.operationForChild(o);u&&(s=s.concat(CD(u,a,c,l)))}),i&&(s=s.concat(jp(i,t,r,n))),s}function bD(t,e){return t.tagToQueryMap.get(e)}function TD(t){let e=t.indexOf("$");return y(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}}function SD(t,e,n){let r=t.syncPointTree_.get(e);y(r,"Missing sync point for query tag that we're tracking");let i=pD(t.pendingWriteTree_,e);return jp(r,n,i,null)}var Tp=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Sp=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=fe(this.path_,e);return new t(this.syncTree_,n)}node(){return wD(this.syncTree_,this.path_)}},$L=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Aw=function(t,e,n){if(!t||typeof t!="object")return t;if(y(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return HL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return WL(t[".sv"],e);y(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},HL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+t)}},WL=function(t,e,n){t.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&y(!1,"Unexpected increment value: "+r);let i=e.node();if(y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},GL=function(t,e,n,r){return $p(e,new Sp(n,t),r)},zL=function(t,e,n){return $p(t,new Tp(e),n)};function $p(t,e,n){let r=t.getPriority().val(),i=Aw(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=Aw(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new gi(a,ye(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new gi(i))),o.forEachChild(ve,(a,c)=>{let l=$p(c,e.getImmediateChild(a),n);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}var eo=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Hp(t,e){let n=e instanceof q?e:new q(e),r=t,i=U(n);for(;i!==null;){let s=Zn(r.node.children,i)||{children:{},childCount:0};r=new eo(i,r,s),n=Z(n),i=U(n)}return r}function Ii(t){return t.node.value}function AD(t,e){t.node.value=e,Ap(t)}function ND(t){return t.node.childCount>0}function qL(t){return Ii(t)===void 0&&!ND(t)}function dl(t,e){et(t.node.children,(n,r)=>{e(new eo(n,t,r))})}function MD(t,e,n,r){n&&!r&&e(t),dl(t,i=>{MD(i,e,!0,r)}),n&&r&&e(t)}function YL(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function so(t){return new q(t.parent===null?t.name:so(t.parent)+"/"+t.name)}function Ap(t){t.parent!==null&&KL(t.parent,t.name,t)}function KL(t,e,n){let r=qL(n),i=je(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ap(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ap(t))}var QL=/[\[\].#$\/\u0000-\u001F\u007F]/,ZL=/[\[\].#$\u0000-\u001F\u007F]/,$h=10*1024*1024,RD=function(t){return typeof t=="string"&&t.length!==0&&!QL.test(t)},JL=function(t){return typeof t=="string"&&t.length!==0&&!ZL.test(t)},XL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),JL(t)};var xD=function(t,e,n){let r=n instanceof q?new np(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+or(r));if(typeof e=="function")throw new Error(t+"contains a function "+or(r)+" with contents = "+e.toString());if(Pw(e))throw new Error(t+"contains "+e.toString()+" "+or(r));if(typeof e=="string"&&e.length>$h/3&&As(e)>$h)throw new Error(t+"contains a string greater than "+$h+" utf8 bytes "+or(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(et(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!RD(o)))throw new Error(t+" contains an invalid key ("+o+") "+or(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WF(r,o),xD(t,a,r),GF(r)}),i&&s)throw new Error(t+' contains ".value" child '+or(r)+" in addition to actual children.")}};var e1=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!RD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!XL(n))throw new Error(mI(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Np=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function t1(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!tD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function fr(t,e,n){t1(t,n),n1(t,r=>vt(r,e)||vt(e,r))}function n1(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(r1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function r1(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();cr&&_e("event: "+n.toString()),ro(r)}}}var i1="repo_interrupt",s1=25,Mp=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Np,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=il(),this.transactionQueueTree_=new eo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function o1(t,e,n){if(t.stats_=Fp(t.repoInfo_),t.forceRestClient_||vF())t.server_=new fp(t.repoInfo_,(r,i,s,o)=>{Nw(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Mw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ue(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Lp(t.repoInfo_,e,(r,i,s,o)=>{Nw(t,r,i,s,o)},r=>{Mw(t,r)},r=>{c1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=IF(t.repoInfo_,()=>new mp(t.stats_,t.server_)),t.infoData_=new hp,t.infoSyncTree_=new cl({startListening:(r,i,s,o)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=ll(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Wp(t,"connected",!1),t.serverSyncTree_=new cl({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{let l=o(a,c);fr(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function a1(t){let n=t.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function OD(t){return $L({timestamp:a1(t)})}function Nw(t,e,n,r,i){t.dataUpdateCount++;let s=new q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let c=bs(n,l=>ye(l));o=BL(t.serverSyncTree_,s,c,i)}else{let c=ye(n);o=jL(t.serverSyncTree_,s,c,i)}else if(r){let c=bs(n,l=>ye(l));o=UL(t.serverSyncTree_,s,c)}else{let c=ye(n);o=ll(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=zp(t,s)),fr(t.eventQueue_,a,o)}function Mw(t,e){Wp(t,"connected",e),e===!1&&u1(t)}function c1(t,e){et(e,(n,r)=>{Wp(t,n,r)})}function Wp(t,e,n){let r=new q("/.info/"+e),i=ye(n);t.infoData_.updateSnapshot(r,i);let s=ll(t.infoSyncTree_,r,i);fr(t.eventQueue_,r,s)}function l1(t){return t.nextWriteId_++}function u1(t){PD(t,"onDisconnectEvents");let e=OD(t),n=il();pp(t.onDisconnect_,W(),(i,s)=>{let o=GL(i,s,t.serverSyncTree_,e);aD(n,i,o)});let r=[];pp(n,W(),(i,s)=>{r=r.concat(ll(t.serverSyncTree_,i,s));let o=p1(t,i);zp(t,o)}),t.onDisconnect_=il(),fr(t.eventQueue_,W(),r)}function d1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(i1)}function PD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),_e(n,...e)}function kD(t,e,n){return wD(t.serverSyncTree_,e,n)||ne.EMPTY_NODE}function Gp(t,e=t.transactionQueueTree_){if(e||fl(t,e),Ii(e)){let n=LD(t,e);y(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&f1(t,so(e),n)}else ND(e)&&dl(e,n=>{Gp(t,n)})}function f1(t,e,n){let r=n.map(l=>l.currentWriteId),i=kD(t,e,r),s=i,o=i.hash();for(let l=0;l<n.length;l++){let u=n[l];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Je(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;t.server_.put(c.toString(),a,l=>{PD(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ui(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();fl(t,Hp(t.transactionQueueTree_,e)),Gp(t,t.transactionQueueTree_),fr(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)ro(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{$e("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}zp(t,e)}},o)}function zp(t,e){let n=FD(t,e),r=so(n),i=LD(t,n);return h1(t,i,r),r}function h1(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Je(n,c.path),u=!1,d;if(y(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(ui(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=s1)u=!0,d="maxretry",i=i.concat(ui(t.serverSyncTree_,c.currentWriteId,!0));else{let f=kD(t,c.path,o);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){xD("transaction failed: Data returned ",h,c.path);let p=ye(h);typeof h=="object"&&h!=null&&je(h,".priority")||(p=p.updatePriority(f.getPriority()));let g=c.currentWriteId,v=OD(t),N=zL(p,f,v);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=N,c.currentWriteId=l1(t),o.splice(o.indexOf(g),1),i=i.concat(VL(t.serverSyncTree_,c.path,N,c.currentWriteId,c.applyLocally)),i=i.concat(ui(t.serverSyncTree_,g,!0))}else u=!0,d="nodata",i=i.concat(ui(t.serverSyncTree_,c.currentWriteId,!0))}fr(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}fl(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ro(r[a]);Gp(t,t.transactionQueueTree_)}function FD(t,e){let n,r=t.transactionQueueTree_;for(n=U(e);n!==null&&Ii(r)===void 0;)r=Hp(r,n),e=Z(e),n=U(e);return r}function LD(t,e){let n=[];return VD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function VD(t,e,n){let r=Ii(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);dl(e,i=>{VD(t,i,n)})}function fl(t,e){let n=Ii(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,AD(e,n.length>0?n:void 0)}dl(e,r=>{fl(t,r)})}function p1(t,e){let n=so(FD(t,e)),r=Hp(t.transactionQueueTree_,e);return YL(r,i=>{Hh(t,i)}),Hh(t,r),MD(r,i=>{Hh(t,i)}),n}function Hh(t,e){let n=Ii(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(y(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(y(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ui(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?AD(e,void 0):n.length=s+1,fr(t.eventQueue_,so(e),i);for(let o=0;o<r.length;o++)ro(r[o])}}function g1(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function m1(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$e(`Invalid query segment '${n}' in query '${t}'`)}return e}var Rw=function(t,e){let n=_1(t),r=n.namespace;n.domain==="firebase.com"&&nn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&nn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dF();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Zc(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new q(n.pathString)}},_1=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=g1(t.substring(u,d)));let f=m1(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var Rp=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return V(this._path)?null:Jw(this._path)}get ref(){return new vi(this._repo,this._path)}get _queryIdentifier(){let e=_w(this._queryParams),n=kp(e);return n==="{}"?"default":n}get _queryObject(){return _w(this._queryParams)}isEqual(e){if(e=de(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=tD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+HF(this._path)}};var vi=class t extends Rp{constructor(e,n){super(e,n,new dp,!1)}get parent(){let e=eD(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};FL(vi);LL(vi);var y1="FIREBASE_DATABASE_EMULATOR_HOST",xp={},v1=!1;function E1(t,e,n,r){t.repoInfo_=new Zc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function I1(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||nn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_e("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Rw(s,i),a=o.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[y1]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=Rw(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let u=i&&c?new Ks(Ks.OWNER):new Kh(t.name,t.options,e);e1("Invalid Firebase Database URL",o),V(o.path)||nn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=D1(a,t,u,new Yh(t.name,n));return new Op(d,t)}function w1(t,e){let n=xp[e];(!n||n[t.key]!==t)&&nn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),d1(t),delete n[t.key]}function D1(t,e,n,r){let i=xp[e.name];i||(i={},xp[e.name]=i);let s=i[t.toURLString()];return s&&nn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Mp(t,v1,n,r),i[t.toURLString()]=s,s}var Op=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(o1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vi(this._repo,W())),this._rootInternal}_delete(){return this._rootInternal!==null&&(w1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&nn("Cannot call "+e+" on a deleted database.")}};function UD(t=En(),e){let n=er(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=bc("database");r&&jD(n,...r)}return n}function jD(t,e,n,r={}){t=de(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&nn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&nn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ks(Ks.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:Tc(r.mockUserToken,t.app.options.projectId);s=new Ks(o)}E1(i,e,n,s)}function C1(t){cF(_t),Be(new me("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return I1(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),z(XI,ew,t),z(XI,ew,"esm2017")}Lp.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Lp.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};C1();var oo=class{constructor(e){return e}},BD="database",qp=class{constructor(){return Os(BD)}};var Yp=new I("angularfire2.database-instances");function b1(t,e){let n=Ih(BD,t,e);return n&&new oo(n)}function T1(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new oo(r)}}var S1={provide:qp,deps:[[new ze,Yp]]},A1={provide:oo,useFactory:b1,deps:[[new ze,Yp],rr]};function m4(t,...e){return z("angularfire",ai.full,"rtdb"),At([A1,S1,{provide:Yp,useFactory:T1(t),multi:!0,deps:[Q,qe,Ps,Ls,[new ze,Yc],[new ze,xs],...e]}])}var _4=Fs(UD,!0);var Kp=class{constructor(e,n){this._delegate=e,this.firebase=n,ii(e,new me("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Rs(this._delegate)))}_getService(e,n=Pt){var r;this._delegate.checkDestroyed();let i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Pt){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){ii(this._delegate,e)}_addOrOverwriteComponent(e){yh(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var N1={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},$D=new Qe("app-compat","Firebase",N1);function M1(t){let e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:z,setLogLevel:Fc,onLog:kc,apps:null,SDK_VERSION:_t,INTERNAL:{registerComponent:a,removeApp:r,useAsService:c,modularAPIs:vh}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(l){delete e[l]}function i(l){if(l=l||Pt,!je(e,l))throw $D.create("no-app",{appName:l});return e[l]}i.App=t;function s(l,u={}){let d=si(l,u);if(je(e,d.name))return e[d.name];let f=new t(d,n);return e[d.name]=f,f}function o(){return Object.keys(e).map(l=>e[l])}function a(l){let u=l.name,d=u.replace("-compat","");if(Be(l)&&l.type==="PUBLIC"){let f=(h=i())=>{if(typeof h[d]!="function")throw $D.create("invalid-app-argument",{appName:u});return h[d]()};l.serviceProps!==void 0&&ei(f,l.serviceProps),n[d]=f,t.prototype[d]=function(...h){return this._getService.bind(this,u).apply(this,l.multipleInstances?h:[])}}return l.type==="PUBLIC"?n[d]:null}function c(l,u){return u==="serverAuth"?null:u}return n}function WD(){let t=M1(Kp);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:WD,extendNamespace:e,createSubscribe:Mc,ErrorFactory:Qe,deepExtend:ei});function e(n){ei(t,n)}return t}var R1=WD();var HD=new xt("@firebase/app-compat"),x1="@firebase/app-compat",O1="0.2.35";function P1(t){z(x1,O1,t)}if(Sc()&&self.firebase!==void 0){HD.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&HD.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var wi=R1;P1();var k1="firebase",F1="10.12.2";wi.registerVersion(k1,F1,"app-compat");var Qp=class{constructor(e){return e}},x4=new I("angularfire2.app.options"),O4=new I("angularfire2.app.name");function P4(t,e,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let o=wi.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>wi.initializeApp(t,i));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;L1("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Qp(o)}var L1=(t,...e)=>{Ef()&&typeof console<"u"&&console[t](...e)};function k4(t,e,n,r,i){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return V1(i,o)||(GD("error",`${e} was already initialized on the ${n} Firebase App with different settings.${U1?" You may need to reload as Firebase is not HMR aware.":""}`),GD("warn",{is:i,was:o})),s;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([t,a,i]),a}}function V1(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var U1=typeof module<"u"&&!!module.hot,GD=(t,...e)=>{Ef()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var eC="firebasestorage.googleapis.com",tC="storageBucket",j1=2*60*1e3,B1=10*60*1e3,$1=1e3;var re=class t extends Ue{constructor(e,n,r=0){super(Zp(e),`Firebase Storage: ${n} (${Zp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},X=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(X||{});function Zp(t){return"storage/"+t}function ag(){let t="An unknown error occurred, please check the error payload for server response.";return new re(X.UNKNOWN,t)}function H1(t){return new re(X.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function W1(t){return new re(X.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function G1(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new re(X.UNAUTHENTICATED,t)}function z1(){return new re(X.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function q1(t){return new re(X.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function nC(){return new re(X.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rC(){return new re(X.CANCELED,"User canceled the upload/download.")}function Y1(t){return new re(X.INVALID_URL,"Invalid URL '"+t+"'.")}function K1(t){return new re(X.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Q1(){return new re(X.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tC+"' property when initializing the app?")}function iC(){return new re(X.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Z1(){return new re(X.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function J1(){return new re(X.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function X1(t){return new re(X.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Xp(t){return new re(X.INVALID_ARGUMENT,t)}function sC(){return new re(X.APP_DELETED,"The Firebase app was deleted.")}function eV(t){return new re(X.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function co(t,e){return new re(X.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ao(t){throw new re(X.INTERNAL_ERROR,"Internal error: "+t)}var He=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw K1(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(w){w.path_=decodeURIComponent(w.path)}let u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},_=n===eC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",v=new RegExp(`^https?://${_}/${i}/${g}`,"i"),T=[{regex:a,indices:c,postModify:s},{regex:h,indices:p,postModify:l},{regex:v,indices:{bucket:1,path:2},postModify:l}];for(let w=0;w<T.length;w++){let ee=T[w],J=ee.regex.exec(e);if(J){let Ee=J[ee.indices.bucket],tt=J[ee.indices.path];tt||(tt=""),r=new t(Ee,tt),ee.postModify(r);break}}if(r==null)throw Y1(e);return r}},eg=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function tV(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...g){l||(l=!0,e.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,t(h,c())},g)}function f(){s&&clearTimeout(s)}function h(g,...v){if(l){f();return}if(g){f(),u.call(null,g,...v);return}if(c()||o){f(),u.call(null,g,...v);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,d(T)}let p=!1;function _(g){p||(p=!0,f(),!l&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function nV(t){t(!1)}function rV(t){return t!==void 0}function iV(t){return typeof t=="function"}function sV(t){return typeof t=="object"&&!Array.isArray(t)}function ml(t){return typeof t=="string"||t instanceof String}function zD(t){return cg()&&t instanceof Blob}function cg(){return typeof Blob<"u"}function tg(t,e,n,r){if(r<e)throw Xp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Xp(`Invalid value for '${t}'. Expected ${n} or less.`)}function Cn(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function oC(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var bi=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(bi||{});function aC(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var ng=class{constructor(e,n,r,i,s,o,a,c,l,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Ci(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===bi.NO_ERROR,c=s.getStatus();if(!a||aC(c,this.additionalRetryCodes_)&&this.retry){let u=s.getErrorCode()===bi.ABORT;r(!1,new Ci(!1,null,u));return}let l=this.successCodes_.indexOf(c)!==-1;r(!0,new Ci(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());rV(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=ag();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?sC():rC();o(c)}else{let c=nC();o(c)}};this.canceled_?n(!1,new Ci(!1,null,!0)):this.backoffId_=tV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ci=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function oV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function aV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function lV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function uV(t,e,n,r,i,s,o=!0){let a=oC(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return cV(l,e),oV(l,n),aV(l,s),lV(l,r),new ng(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function dV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fV(...t){let e=dV();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(cg())return new Blob(t);throw new re(X.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function pV(t){if(typeof atob>"u")throw X1("base-64");return atob(t)}var Ft={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},lo=class{constructor(e,n){this.data=e,this.contentType=n||null}};function gV(t,e){switch(t){case Ft.RAW:return new lo(cC(e));case Ft.BASE64:case Ft.BASE64URL:return new lo(lC(t,e));case Ft.DATA_URL:return new lo(_V(e),yV(e))}throw ag()}function cC(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function mV(t){let e;try{e=decodeURIComponent(t)}catch{throw co(Ft.DATA_URL,"Malformed data URL.")}return cC(e)}function lC(t,e){switch(t){case Ft.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw co(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ft.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw co(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pV(e)}catch(i){throw i.message.includes("polyfill")?i:co(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var pl=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw co(Ft.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=vV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function _V(t){let e=new pl(t);return e.base64?lC(Ft.BASE64,e.rest):mV(e.rest)}function yV(t){return new pl(t).contentType}function vV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var gl=class t{constructor(e,n){let r=0,i="";zD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(zD(this.data_)){let r=this.data_,i=hV(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(cg()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(fV.apply(null,n))}else{let n=e.map(o=>ml(o)?gV(Ft.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function lg(t){let e;try{e=JSON.parse(t)}catch{return null}return sV(e)?e:null}function EV(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IV(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function uC(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function wV(t,e){return e}var pe=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||wV}},hl=null;function DV(t){return!ml(t)||t.length<2?t:uC(t)}function _l(){if(hl)return hl;let t=[];t.push(new pe("bucket")),t.push(new pe("generation")),t.push(new pe("metageneration")),t.push(new pe("name","fullPath",!0));function e(s,o){return DV(o)}let n=new pe("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new pe("size");return i.xform=r,t.push(i),t.push(new pe("timeCreated")),t.push(new pe("updated")),t.push(new pe("md5Hash",null,!0)),t.push(new pe("cacheControl",null,!0)),t.push(new pe("contentDisposition",null,!0)),t.push(new pe("contentEncoding",null,!0)),t.push(new pe("contentLanguage",null,!0)),t.push(new pe("contentType",null,!0)),t.push(new pe("metadata","customMetadata",!0)),hl=t,hl}function CV(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new He(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function bV(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return CV(r,t),r}function dC(t,e,n){let r=lg(e);return r===null?null:bV(t,r,n)}function TV(t,e,n,r){let i=lg(e);if(i===null||!ml(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(l=>{let u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),h=Cn(f,n,r),p=oC({alt:"media",token:l});return h+p})[0]}function ug(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var qD="prefixes",YD="items";function SV(t,e,n){let r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[qD])for(let i of n[qD]){let s=i.replace(/\/$/,""),o=t._makeStorageReference(new He(e,s));r.prefixes.push(o)}if(n[YD])for(let i of n[YD]){let s=t._makeStorageReference(new He(e,i.name));r.items.push(s)}return r}function AV(t,e,n){let r=lg(n);return r===null?null:SV(t,e,r)}var It=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Lt(t){if(!t)throw ag()}function yl(t,e){function n(r,i){let s=dC(t,i,e);return Lt(s!==null),s}return n}function NV(t,e){function n(r,i){let s=AV(t,e,i);return Lt(s!==null),s}return n}function MV(t,e){function n(r,i){let s=dC(t,i,e);return Lt(s!==null),TV(s,i,t.host,t._protocol)}return n}function Ai(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=z1():i=G1():n.getStatus()===402?i=W1(t.bucket):n.getStatus()===403?i=q1(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function vl(t){let e=Ai(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=H1(t.path)),s.serverResponse=i.serverResponse,s}return n}function fC(t,e,n){let r=e.fullServerUrl(),i=Cn(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new It(i,s,yl(t,n),o);return a.errorHandler=vl(e),a}function RV(t,e,n,r,i){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);let o=e.bucketOnlyServerUrl(),a=Cn(o,t.host,t._protocol),c="GET",l=t.maxOperationRetryTime,u=new It(a,c,NV(t,e.bucket),l);return u.urlParams=s,u.errorHandler=Ai(e),u}function xV(t,e,n){let r=e.fullServerUrl(),i=Cn(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new It(i,s,MV(t,n),o);return a.errorHandler=vl(e),a}function OV(t,e,n,r){let i=e.fullServerUrl(),s=Cn(i,t.host,t._protocol),o="PATCH",a=ug(n,r),c={"Content-Type":"application/json; charset=utf-8"},l=t.maxOperationRetryTime,u=new It(s,o,yl(t,r),l);return u.headers=c,u.body=a,u.errorHandler=vl(e),u}function PV(t,e){let n=e.fullServerUrl(),r=Cn(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(c,l){}let a=new It(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=vl(e),a}function kV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function hC(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=kV(null,e)),r}function FV(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let T="";for(let w=0;w<2;w++)T=T+Math.random().toString().slice(2);return T}let c=a();o["Content-Type"]="multipart/related; boundary="+c;let l=hC(e,r,i),u=ug(l,n),d="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+c+"--",h=gl.getBlob(d,r,f);if(h===null)throw iC();let p={name:l.fullPath},_=Cn(s,t.host,t._protocol),g="POST",v=t.maxUploadRetryTime,N=new It(_,g,yl(t,n),v);return N.urlParams=p,N.headers=o,N.body=h.uploadData(),N.errorHandler=Ai(e),N}var Ti=class{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}};function dg(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Lt(!1)}return Lt(!!n&&(e||["active"]).indexOf(n)!==-1),n}function LV(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o=hC(e,r,i),a={name:o.fullPath},c=Cn(s,t.host,t._protocol),l="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=ug(o,n),f=t.maxUploadRetryTime;function h(_){dg(_);let g;try{g=_.getResponseHeader("X-Goog-Upload-URL")}catch{Lt(!1)}return Lt(ml(g)),g}let p=new It(c,l,h,f);return p.urlParams=a,p.headers=u,p.body=d,p.errorHandler=Ai(e),p}function VV(t,e,n,r){let i={"X-Goog-Upload-Command":"query"};function s(l){let u=dg(l,["active","final"]),d=null;try{d=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Lt(!1)}d||Lt(!1);let f=Number(d);return Lt(!isNaN(f)),new Ti(f,r.size(),u==="final")}let o="POST",a=t.maxUploadRetryTime,c=new It(n,o,s,a);return c.headers=i,c.errorHandler=Ai(e),c}var KD=256*1024;function UV(t,e,n,r,i,s,o,a){let c=new Ti(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Z1();let l=c.total-c.current,u=l;i>0&&(u=Math.min(u,i));let d=c.current,f=d+u,h="";u===0?h="finalize":l===u?h="upload, finalize":h="upload";let p={"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":`${c.current}`},_=r.slice(d,f);if(_===null)throw iC();function g(w,ee){let J=dg(w,["active","final"]),Ee=c.current+u,tt=r.size(),Vt;return J==="final"?Vt=yl(e,s)(w,ee):Vt=null,new Ti(Ee,tt,J==="final",Vt)}let v="POST",N=e.maxUploadRetryTime,T=new It(n,v,g,N);return T.headers=p,T.body=_.uploadData(),T.progressCallback=a||null,T.errorHandler=Ai(t),T}var j4={STATE_CHANGED:"state_changed"},Oe={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jp(t){switch(t){case"running":case"pausing":case"canceling":return Oe.RUNNING;case"paused":return Oe.PAUSED;case"success":return Oe.SUCCESS;case"canceled":return Oe.CANCELED;case"error":return Oe.ERROR;default:return Oe.ERROR}}var rg=class{constructor(e,n,r){if(iV(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function Di(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var QD=null,ig=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=bi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=bi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=bi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ao("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ao("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ao("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ao("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ao("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},sg=class extends ig{initXhr(){this.xhr_.responseType="text"}};function kt(){return QD?QD():new sg}var og=class{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=_l(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(X.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(aC(i.status,[]))if(s)i=nC();else{this.sleepTime=Math.max(this.sleepTime*2,$1),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(X.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let r=LV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,kt,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,r)=>{let i=VV(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,kt,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=KD*this._chunkMultiplier,n=new Ti(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=UV(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(o,kt,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){KD*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let r=fC(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,kt,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let r=FV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,kt,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=rC(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=Jp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){let s=new rg(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Jp(this._state)){case Oe.SUCCESS:Di(this._resolve.bind(null,this.snapshot))();break;case Oe.CANCELED:case Oe.ERROR:let n=this._reject;Di(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Jp(this._state)){case Oe.RUNNING:case Oe.PAUSED:e.next&&Di(e.next.bind(e,this.snapshot))();break;case Oe.SUCCESS:e.complete&&Di(e.complete.bind(e))();break;case Oe.CANCELED:case Oe.ERROR:e.error&&Di(e.error.bind(e,this._error))();break;default:e.error&&Di(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Si=class t{constructor(e,n){this._service=e,n instanceof He?this._location=n:this._location=He.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new He(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uC(this._location.path)}get storage(){return this._service}get parent(){let e=EV(this._location.path);if(e===null)return null;let n=new He(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw eV(e)}};function jV(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new og(t,new gl(e),n)}function BV(t){let e={prefixes:[],items:[]};return pC(t,e).then(()=>e)}function pC(t,e,n){return m(this,null,function*(){let i=yield gC(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&(yield pC(t,e,i.nextPageToken))})}function gC(t,e){e!=null&&typeof e.maxResults=="number"&&tg("options.maxResults",1,1e3,e.maxResults);let n=e||{},r=RV(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,kt)}function $V(t){t._throwIfRoot("getMetadata");let e=fC(t.storage,t._location,_l());return t.storage.makeRequestWithTokens(e,kt)}function HV(t,e){t._throwIfRoot("updateMetadata");let n=OV(t.storage,t._location,e,_l());return t.storage.makeRequestWithTokens(n,kt)}function WV(t){t._throwIfRoot("getDownloadURL");let e=xV(t.storage,t._location,_l());return t.storage.makeRequestWithTokens(e,kt).then(n=>{if(n===null)throw J1();return n})}function GV(t){t._throwIfRoot("deleteObject");let e=PV(t.storage,t._location);return t.storage.makeRequestWithTokens(e,kt)}function mC(t,e){let n=IV(t._location.path,e),r=new He(t._location.bucket,n);return new Si(t.storage,r)}function zV(t){return/^[A-Za-z]+:\/\//.test(t)}function qV(t,e){return new Si(t,e)}function _C(t,e){if(t instanceof uo){let n=t;if(n._bucket==null)throw Q1();let r=new Si(n,n._bucket);return e!=null?_C(r,e):r}else return e!==void 0?mC(t,e):t}function YV(t,e){if(e&&zV(e)){if(t instanceof uo)return qV(t,e);throw Xp("To use ref(service, url), the first argument must be a Storage instance.")}else return _C(t,e)}function ZD(t,e){let n=e?.[tC];return n==null?null:He.makeFromBucketSpec(n,t)}function KV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Tc(i,t.app.options.projectId))}var uo=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=eC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=j1,this._maxUploadRetryTime=B1,this._requests=new Set,i!=null?this._bucket=He.makeFromBucketSpec(i,this._host):this._bucket=ZD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=He.makeFromBucketSpec(this._url,e):this._bucket=ZD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return m(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return m(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Si(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new eg(sC());{let o=uV(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return m(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},JD="@firebase/storage",XD="0.12.5";var yC="storage";function B4(t,e,n){return t=de(t),jV(t,e,n)}function $4(t){return t=de(t),$V(t)}function H4(t,e){return t=de(t),HV(t,e)}function W4(t,e){return t=de(t),gC(t,e)}function G4(t){return t=de(t),BV(t)}function z4(t){return t=de(t),WV(t)}function q4(t){return t=de(t),GV(t)}function Y4(t,e){return t=de(t),YV(t,e)}function K4(t,e){return mC(t,e)}function Q4(t=En(),e){t=de(t);let r=er(t,yC).getImmediate({identifier:e}),i=bc("storage");return i&&QV(r,...i),r}function QV(t,e,n,r={}){KV(t,e,n,r)}function ZV(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new uo(n,r,i,e,_t)}function JV(){Be(new me(yC,ZV,"PUBLIC").setMultipleInstances(!0)),z(JD,XD,""),z(JD,XD,"esm2017")}JV();export{te as a,ae as b,pg as c,XV as d,eU as e,m as f,se as g,VC as h,O as i,kl as j,Fl as k,rn as l,Ri as m,Mn as n,Ae as o,Oi as p,YC as q,KC as r,xn as s,ge as t,rb as u,rt as v,Pi as w,Cr as x,sb as y,Hl as z,fb as A,jt as B,Xg as C,pb as D,Wl as E,gb as F,ki as G,br as H,Gl as I,mb as J,Bo as K,ql as L,Yl as M,yb as N,vb as O,Eb as P,Ib as Q,Kl as R,wb as S,Fi as T,C as U,A as V,qt as W,mG as X,I as Y,L as Z,S as _,E as $,ze as aa,e_ as ba,Fe as ca,_G as da,Yt as ea,ie as fa,a_ as ga,At as ha,lT as ia,Tt as ja,Md as ka,Br as la,yG as ma,vG as na,EG as oa,IG as pa,ts as qa,lS as ra,qe as sa,dt as ta,Ve as ua,We as va,be as wa,wG as xa,pt as ya,DG as za,rA as Aa,CG as Ba,bG as Ca,TG as Da,k as Ea,SG as Fa,$n as Ga,_a as Ha,Ya as Ia,qi as Ja,Zt as Ka,gn as La,Q as Ma,W0 as Na,zn as Oa,MG as Pa,CN as Qa,sd as Ra,bN as Sa,Wr as Ta,MN as Ua,pv as Va,WN as Wa,yv as Xa,Ka as Ya,RG as Za,Cv as _a,bv as $a,nM as ab,oM as bb,aM as cb,xG as db,uM as eb,qn as fb,OG as gb,IM as hb,Nv as ib,PG as jb,kG as kb,FG as lb,LG as mb,VG as nb,bM as ob,Rv as pb,TM as qb,Yn as rb,UG as sb,jG as tb,BG as ub,$G as vb,HG as wb,WG as xb,GG as yb,zG as zb,Pv as Ab,as as Bb,LM as Cb,Za as Db,zr as Eb,qG as Fb,Ef as Gb,Xa as Hb,Bv as Ib,cR as Jb,YG as Kb,Te as Lb,gz as Mb,nc as Nb,uR as Ob,mz as Pb,dR as Qb,_z as Rb,yz as Sb,vz as Tb,Ez as Ub,Iz as Vb,wz as Wb,AR as Xb,MR as Yb,Dz as Zb,UR as _b,Pz as $b,_E as ac,Jz as bc,Xz as cc,Tx as dc,eq as ec,Cc as fc,Kn as gc,dI as hc,Qe as ic,me as jc,xt as kc,Be as lc,z as mc,ai as nc,Ih as oc,Os as pc,xs as qc,Ps as rc,t3 as sc,bP as tc,Fs as uc,rr as vc,Ls as wc,c3 as xc,l3 as yc,Yc as zc,oo as Ac,m4 as Bc,_4 as Cc,kE as Dc,CE as Ec,vq as Fc,Eq as Gc,wq as Hc,iO as Ic,oO as Jc,cO as Kc,nI as Lc,Dq as Mc,Cq as Nc,bq as Oc,Tq as Pc,Sq as Qc,wi as Rc,x4 as Sc,O4 as Tc,P4 as Uc,k4 as Vc,Xp as Wc,eV as Xc,He as Yc,Ft as Zc,gV as _c,gl as $c,j4 as ad,Oe as bd,og as cd,B4 as dd,$4 as ed,H4 as fd,W4 as gd,G4 as hd,z4 as id,q4 as jd,Y4 as kd,K4 as ld,Q4 as md,QV as nd};
