import{a as V}from"./chunk-33PWM3SH.js";import{a as N}from"./chunk-W3AYHPVJ.js";import{$a as a,Aa as S,Da as c,Dc as M,Ea as x,Ec as C,Fc as E,Gc as T,Hc as P,Jc as H,Kc as F,Oc as B,Pc as j,Qc as A,Sb as y,Tb as O,Ua as b,Wa as p,Xb as I,_a as r,ab as _,da as k,db as h,f as w,fb as d,gb as s,ma as g,na as u,nb as m,ob as f,sb as D}from"./chunk-4CM3PSM5.js";function U(o,l){if(o&1){let n=h();r(0,"div",1)(1,"form",7),d("ngSubmit",function(){g(n);let t=s();return u(t.submit())}),r(2,"div",8),_(3,"textarea",9),a(),r(4,"div",10)(5,"button",11),m(6,"save"),a()()()()}if(o&2){let n=s();c(),p("formGroup",n.about)}}function $(o,l){if(o&1){let n=h();r(0,"tr")(1,"th",18),m(2),a(),r(3,"td"),m(4),a(),r(5,"td")(6,"button",19),d("click",function(){let t=g(n).$implicit,e=s(3);return e.mainControl="delete",e.globalObject=t,u(e.findItem(t))}),_(7,"i",20),a(),r(8,"button",21),d("click",function(){let t=g(n).$implicit,e=s(3);return e.mainControl="edit",e.globalObject=t,u(e.findItem(t))}),_(9,"i",22),a()()()}if(o&2){let n=l.$implicit,i=l.index;c(2),f(i+1),c(2),f(n.text)}}function G(o,l){if(o&1&&(r(0,"table",15)(1,"thead")(2,"tr")(3,"th",16),m(4,"#"),a(),r(5,"th",16),m(6," text"),a(),_(7,"th",16),a()(),r(8,"tbody"),b(9,$,10,2,"tr",17),a()()),o&2){let n=s(2);c(9),p("ngForOf",n.listArray)}}function K(o,l){if(o&1){let n=h();r(0,"div",23)(1,"div",24)(2,"p",10),m(3),a(),r(4,"div",10)(5,"button",19),d("click",function(){g(n);let t=s(2);return u(t.deleteTheItem())}),m(6,"delete"),a(),r(7,"button",3),d("click",function(){g(n);let t=s(2);return u(t.mainControl="showData")}),m(8,"cancel"),a()()()()}if(o&2){let n=s(2);c(3),f(n.globalObject.text)}}function q(o,l){if(o&1&&(r(0,"div",12),b(1,G,10,1,"table",13)(2,K,9,1,"div",14),a()),o&2){let n=s();c(),p("ngIf",n.mainControl=="showData"),c(),p("ngIf",n.mainControl=="delete")}}function L(o,l){if(o&1){let n=h();r(0,"div",10),_(1,"img",25),r(2,"input",26),d("change",function(t){g(n);let e=s();return u(e.upload(t))}),a()()}if(o&2){let n=s();c(),p("src",n.backgrounds[0].img,S)}}var tt=(()=>{let l=class l{constructor(i,t,e){this.formBuilder=i,this.dataServ=t,this.fireStorage=e,this.mainControl="showData",this.about=this.formBuilder.group({text:["",C.required],id:[new Date().getTime()]}),this.background=this.formBuilder.group({img:["",C.required],id:[new Date().getTime()]}),this.uploadingImg="",this.listArray=[],this.backgrounds=[],this.globalKey=""}ngOnInit(){this.getData()}upload(i){return w(this,null,function*(){this.uploadingImg="uploadingImg",this.fireStorage.storage.refFromURL(this.backgrounds[0].img).delete();let t=i.target.files[0];if(t){let e=`DEALZUS/${new Date().getTime()}${t.name}`,z=yield(yield this.fireStorage.upload(e,t)).ref.getDownloadURL();this.background.patchValue({img:z})}this.dataServ.createBackground(this.background.value).subscribe(()=>{this.getData()}),this.uploadingImg="imgUploaded"})}resetView(){this.about.patchValue({id:new Date().getTime(),text:""})}getData(){this.listArray=[],this.backgrounds=[],this.dataServ.getdata("aboutus").subscribe(i=>{for(let t in i)this.listArray.push(i[t])}),this.dataServ.getdata("background").subscribe(i=>{for(let t in i)this.backgrounds.push(i[t])})}submit(){this.mainControl=="add"?this.dataServ.create(this.about.value,"",this.mainControl).subscribe(()=>{this.getData(),this.mainControl="showData",this.resetView()}):(this.about.patchValue({id:this.globalObject.id}),this.about.valid&&this.dataServ.create(this.about.value,this.globalKey,this.mainControl).subscribe(()=>{this.getData(),this.mainControl="showData",this.resetView()}))}findItem(i){this.globalObject=i,this.about.patchValue({id:i.id,text:i.text}),this.dataServ.getdata("aboutus").subscribe(t=>{for(let e in t)if(i.id==t[e].id){this.globalKey=e;break}})}deleteTheItem(){this.dataServ.delete("about",this.globalKey).subscribe(()=>{this.getData(),this.mainControl="showData"})}};l.\u0275fac=function(t){return new(t||l)(x(B),x(V),x(N))},l.\u0275cmp=k({type:l,selectors:[["app-home"]],standalone:!0,features:[D],decls:12,vars:3,consts:[[1,"col-12"],[1,"container"],["adminButtonDirective","",1,"btn","btn-primary",3,"click"],["adminButtonDirective","",1,"btn","btn-secondary",3,"click"],["class","container",4,"ngIf"],["class","col-12","appShowDataDiveDirective","",4,"ngIf"],["class","text-center",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["name","text","id","text","cols","30","rows","10","placeholder","Enter your text","formControlName","text",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-warning","m-2"],["appShowDataDiveDirective","",1,"col-12"],["class","table text-center",4,"ngIf"],["appDeleteElementDiv","",4,"ngIf"],[1,"table","text-center"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["adminButtonDirective","",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash3"],["adminButtonDirective","",1,"btn","btn-warning",3,"click"],[1,"bi","bi-pencil-square"],["appDeleteElementDiv",""],[1,"content"],["alt","","height","500px",1,"container","m-3",3,"src"],["type","file","value","upload",1,"btn","btn-primary",3,"change"]],template:function(t,e){t&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),d("click",function(){return e.mainControl="add",e.resetView()}),m(3,"add text"),a(),r(4,"button",2),d("click",function(){return e.mainControl="background"}),m(5,"update background"),a(),r(6,"button",3),d("click",function(){return e.mainControl="showData"}),m(7,"show Data"),a()(),r(8,"div",0),b(9,U,7,1,"div",4),a(),b(10,q,3,2,"div",5)(11,L,3,1,"div",6),a()),t&2&&(c(9),p("ngIf",e.mainControl=="add"||e.mainControl=="edit"),c(),p("ngIf",e.mainControl=="showData"||e.mainControl=="delete"),c(),p("ngIf",e.mainControl=="background"))},dependencies:[j,P,M,E,T,A,H,F,I,y,O],styles:["button[_ngcontent-%COMP%]{margin:5px}",".dash-padding[_ngcontent-%COMP%]{margin-top:15px;direction:rtl}th[_ngcontent-%COMP%]{text-align:center;padding-right:15px}td[_ngcontent-%COMP%]{text-align:center;word-break:break-all;line-break:break-all;background-color:#eee}.small-image[_ngcontent-%COMP%]{width:75px;height:65px;border-radius:10px}.form-label[_ngcontent-%COMP%]{margin-right:6px}input[type=file].product-photos[_ngcontent-%COMP%]{height:150px;opacity:0}.images-upload[_ngcontent-%COMP%]{background-color:#eeeeeed7;border-radius:10px}.images-upload[_ngcontent-%COMP%]:hover{background-color:#024d3fad}.svg-upload[_ngcontent-%COMP%]{margin-top:-175px;z-index:2;height:70px;width:70px;margin-right:calc(50% - 35px);color:coral}.btn-add[_ngcontent-%COMP%]{margin-right:25px;margin-left:5px}.promo-Image-div[_ngcontent-%COMP%]{margin-right:15px;float:right}.delete-image-btn[_ngcontent-%COMP%]{font-size:large;background:none;border:none;border-radius:50%;position:relative;top:-32px;right:5px;z-index:2}.btn[_ngcontent-%COMP%]{font-size:14px;margin-top:5px}.btn-secondary[_ngcontent-%COMP%]{margin-right:5px}.social-btn[_ngcontent-%COMP%]{margin:5px}.social-btn[_ngcontent-%COMP%]:last-of-type{margin-left:25px}.modal-content[_ngcontent-%COMP%]{width:125%;margin-right:-12.5%}.modal-title[_ngcontent-%COMP%]{width:100%;text-transform:capitalize;text-align:center}@media screen and (max-width:600px){.modal-content[_ngcontent-%COMP%]{width:100%;margin-right:0%}textarea.form-control[_ngcontent-%COMP%]{width:160px}}"]});let o=l;return o})();export{tt as a};
